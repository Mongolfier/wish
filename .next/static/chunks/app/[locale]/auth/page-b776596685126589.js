(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96],{51:(e,t,a)=>{"use strict";a.d(t,{B:()=>d,I18nProvider:()=>g});var n=a(3978),r=a(595),l=a(9362),s=a(9756),i=a(9018),o=a(5300),u=a(1682),c=a(3635);function d(e,t){let a=(0,o.useParams)(),n=(null==a?void 0:a.locale)||u.z1,l={...t,lng:Array.isArray(n)?n[0]:n},s=(0,r.Bd)(e,l),{i18n:i}=s;return s}l.Ay.use(r.r9).use(s.A).use(i.A).init({...(0,u.Hj)(),detection:{order:["path","navigator"],lookupFromPathIndex:0,lookupFromSubdomainIndex:0},preload:[]});let h=()=>{let e=(0,o.useParams)(),t=(null==e?void 0:e.locale)||u.z1,[a,r]=(0,c.K)(),[s,i]=(0,n.useState)(l.Ay.resolvedLanguage),d=Array.isArray(t)?t[0]:t;return(0,n.useEffect)(()=>{s!==l.Ay.resolvedLanguage&&i(l.Ay.resolvedLanguage)},[s,l.Ay.resolvedLanguage]),(0,n.useEffect)(()=>{d&&String(l.Ay.resolvedLanguage)!==String(d)&&l.Ay.changeLanguage(d)},[d]),(0,n.useEffect)(()=>{a!==t&&r(t,{path:"/"})},[t,a]),{activeLng:s,lng:d}},g=e=>{let{children:t}=e;return h(),t}},83:(e,t,a)=>{"use strict";a.d(t,{Auth:()=>O});var n=a(6994),r=a(3978),l=a(5976),s=function(e){return e.EnterEmail="enterEmail",e.EnterSignInPassword="enterSignInPassword",e.EnterSignUpPassword="enterSignUpPassword",e.HaveAccount="haveAccount",e.FinishSignUp="finishSignUp",e}({});let i={index:"/",auth:{index:"/auth"}};i.auth.index;var o=a(5300),u=function(e){return e.Registration="registration",e.SignIn="sign-in",e}({}),c=function(e){return e.Success="success",e}({});let d=[s.EnterEmail],h=e=>{let{onSuccess:t}=e,[a,n]=(0,r.useState)(s.EnterEmail),[l,i]=(0,r.useState)(""),o=(0,r.useCallback)(()=>{n(s.EnterEmail)},[]),h=(0,r.useCallback)(e=>{i(e)},[]);return{currentStep:a,email:l,handleResetToEnterEmailStep:o,handleSetCurrentEmail:h,handleStepEnterEmailComplete:(0,r.useCallback)(e=>{switch(e){case u.Registration:n(s.EnterSignUpPassword);break;case u.SignIn:n(s.EnterSignInPassword)}},[]),handleStepFinishSignUpComplete:(0,r.useCallback)(async e=>{e.code===c.Success&&t()},[t]),showBackButton:!d.includes(a)}};var g=a(3367),m=a(9662),p=a(4082);let f=e=>{let{onEmailChange:t}=e;return{handleInputChange:(0,r.useCallback)(e=>{t(e.currentTarget.value.replace(/\s/g,""))},[t])}};var v=a(51);let j={flowDetermination:()=>"auth/check-auth"},b=(e=>{let{baseURL:t,...a}=e,n=[],r=[],l=async e=>{let t=e;for(let{onFulfilled:e,onRejected:a}of n)t=await s(t,e,a);return t},s=async(e,t,a)=>{try{if(!t)return e;let a=await t(e);return null!=a?a:e}catch(e){if(a){let t=await a(e);throw null!=t?t:e}throw e}},i=async(e,t)=>{let a=e;for(let{onFulfilled:e,onRejected:n}of r)a=await o(a,t,e,n);return a},o=async(e,t,a,n)=>{try{if(!a)return e;let n=await a(e,t);return null!=n?n:e}catch(e){if(n){let a=await n(e,t);if(a instanceof Response)return a;throw null!=a?a:e}throw e}},u=async(e,t)=>{for(let{onRejected:a}of r)if(a){let n=await a(e,t);if(n instanceof Response)return n;throw null!=n?n:e}throw e};return{useRequest:(e,t)=>{n.push({onFulfilled:e,onRejected:t})},useResponse:(e,t)=>{r.push({onFulfilled:e,onRejected:t})},fetch:async(e,n)=>{let r,s=n?{...a,...n,headers:{...null==a?void 0:a.headers,...null==n?void 0:n.headers}}:a,o=await l({input:e,init:s});try{let a=t&&!e.toString().startsWith("http")?"".concat(t).concat(e):e;r=await globalThis.fetch(a,o.init)}catch(e){return u(e,o)}return i(r,o)}}})({baseURL:"http://77.223.98.221/",headers:{"Content-Type":"application/json",Accept:"application/json","X-Client-Type":"WEB"}}),y=async(e,t)=>{var a;return b.fetch(j.flowDetermination(),{method:"POST",body:JSON.stringify({email:e}),signal:null!=(a=null==t?void 0:t.signal)?a:null})},E=e=>{let[t,a]=(0,r.useState)(!1),[n,l]=(0,r.useState)(!1),[s,i]=(0,r.useState)(""),o=()=>{l(!0),i("common:errors.serverNotAvailableTryAgainLater")};return{isLoading:t,determineFlow:async t=>{a(!0);try{let a=await y(t);if(!a.ok)return void o();let n=await a.json();e(n.data.flow)}catch(e){o()}finally{a(!1)}},hasError:n,errorMessage:s}};var S=a(7461),w=a.n(S);let k=()=>{let{t:e}=(0,v.B)(["auth","common"]);return(0,n.jsxs)("div",{className:w().support,children:[(0,n.jsx)("p",{className:w().supportText,children:e("auth:needHelp")}),(0,n.jsx)("a",{href:"mailto:".concat(e("common:links.supportEmail")),className:w().supportLink,children:e("common:links.supportEmail")})]})},x=g.Ik({email:g.Yj().email("Please enter a valid email address")}),A=e=>{let{onComplete:t,onEmailChange:a,email:r}=e,{t:l}=(0,v.B)(["auth"]),{register:s,handleSubmit:i,formState:{errors:o},setValue:u}=(0,p.mN)({resolver:(0,m.u)(x),defaultValues:{email:r}}),{handleInputChange:c}=f({onEmailChange:e=>{u("email",e)}}),{determineFlow:d,isLoading:h,hasError:g,errorMessage:j}=E(t);return(0,n.jsx)("div",{children:(0,n.jsxs)("form",{onSubmit:i(e=>{h||(a(e.email),d(e.email))}),children:[(0,n.jsx)("label",{htmlFor:"email",children:l("email")}),(0,n.jsx)("input",{type:"email",id:"email",...s("email"),onChange:c,placeholder:l("enterEmail")}),o.email&&(0,n.jsx)("span",{className:"error",children:o.email.message}),g&&(0,n.jsx)("span",{className:"error",children:j}),(0,n.jsx)("button",{type:"submit",disabled:h,children:l(h?"loading":"continue")}),(0,n.jsx)(k,{})]})})},C=e=>{let{onStepChange:t}=e,a=(0,o.useRouter)(),{currentStep:l,email:u,handleSetCurrentEmail:c,handleStepEnterEmailComplete:d}=h({onSuccess:(0,r.useCallback)(()=>{a.push(i.index)},[a])});(0,r.useEffect)(()=>{null==t||t(l)},[l,t]);let g=(0,r.useMemo)(()=>l===s.EnterEmail?(0,n.jsx)(A,{email:u,onEmailChange:c,onComplete:d}):null,[]);return(0,n.jsx)("div",{children:g})};var L=a(9500),N=a.n(L);let P=()=>{let[e,t]=(0,r.useState)(null);return(0,n.jsxs)("div",{className:N().authFlowBlock,children:[(0,n.jsx)("div",{className:N().formWrapper,children:(0,n.jsx)(C,{onStepChange:t})}),e===s.EnterEmail&&(0,n.jsx)(l.LanguageSelector,{})]})},O=()=>(0,n.jsx)("main",{children:(0,n.jsx)(P,{})})},424:(e,t,a)=>{Promise.resolve().then(a.bind(a,83))},685:(e,t,a)=>{var n={"./en/header.json":[9732,732],"./en/lang.json":[9705,705],"./en/meta.json":[9028,647],"./en/signIn.json":[1483,483],"./en/translations.json":[2685,685],"./ru/header.json":[8138,138],"./ru/lang.json":[7627,627],"./ru/meta.json":[4998,998],"./ru/signIn.json":[2589,589],"./ru/translations.json":[1103,103]};function r(e){if(!a.o(n,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(()=>a.t(r,19))}r.keys=()=>Object.keys(n),r.id=685,e.exports=r},1682:(e,t,a)=>{"use strict";a.d(t,{Hj:()=>o,Ok:()=>i,V3:()=>l,z1:()=>r});var n=a(5095);let r="ru",l=["ru","en"].map(e=>e.toLowerCase()),s="translations",i="locale";function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ru",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return{supportedLngs:l,fallbackLng:"ru",lowerCaseLng:!0,lng:e,fallbackNS:s,defaultNS:s,ns:t,backend:{backends:[(0,n.A)((e,t)=>a(685)("./".concat(e,"/").concat(t,".json")))]}}}},3635:(e,t,a)=>{"use strict";a.d(t,{K:()=>l});var n=a(7966),r=a(1682);function l(){let[e,t]=(0,n.lT)([r.Ok]);return[e.locale,function(e,a){return t(r.Ok,e,a)}]}},5976:(e,t,a)=>{"use strict";a.d(t,{LanguageSelector:()=>d});var n=a(6994),r=a(39),l=a(3978),s=a(5300),i=a(51),o=a(1682),u=a(3635);let c=()=>{let e=(0,s.useRouter)(),t=(0,s.usePathname)(),a=(0,s.useParams)(),[n,r]=(0,l.useTransition)(),[c,d]=(0,u.K)(),{t:h,i18n:g}=(0,i.B)("lang"),[m,p]=(0,l.useState)(!1),f=(null==a?void 0:a.locale)||o.z1,v=Array.isArray(f)?f[0]:f;return(0,l.useEffect)(()=>{p(!0)},[]),{changeLanguage:a=>{if(v===a.code)return;let n=t.replace(/^\/([^/]+)/,"/".concat(a.code));r(()=>{d(a.code,{path:"/"}),g.changeLanguage(a.code),e.push(n)})},languageList:(0,l.useMemo)(()=>m?o.V3.map(e=>({title:h("lang:".concat(e)),abbr:h("lang:abbrs.".concat(e)),code:e})):[],[h,m]),currentLanguage:(0,l.useMemo)(()=>m?{title:h("lang:".concat(v)),abbr:h("lang:abbrs.".concat(v)),code:v}:{title:"",abbr:"",code:v},[v,h,m]),isPending:n,isClient:m}},d=e=>{let{changeLanguage:t,currentLanguage:a,languageList:l,isPending:s,isClient:i}=c();return i?(0,n.jsx)(r.Ay,{onChange:e=>{e&&t(e)},value:a,options:l,isDisabled:s,getOptionLabel:e=>e.title,getOptionValue:e=>e.title}):null}},7461:()=>{},9500:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[144,516,622,28,133,358],()=>t(424)),_N_E=e.O()}]);