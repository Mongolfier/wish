{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/model/constants/flowSteps.ts"],"sourcesContent":["export enum AuthFlowStep {\r\n  AuthType = \"authType\",\r\n  Login = \"login\",\r\n  Register = \"register\",\r\n  EnterEmail = \"enterEmail\",\r\n  EnterSignInPassword = \"enterSignInPassword\",\r\n  EnterSignUpPassword = \"enterSignUpPassword\",\r\n  HaveAccount = \"haveAccount\",\r\n  FinishSignUp = \"finishSignUp\",\r\n}\r\n"],"names":[],"mappings":";;;AAAO,IAAA,AAAK,sCAAA;;;;;;;;;WAAA","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/router/routes/auth.ts"],"sourcesContent":["const rootPath = '/auth';\r\n\r\nexport const authRoutes = {\r\n    index: rootPath,\r\n} as const;\r\n"],"names":[],"mappings":";;;AAAA,MAAM,WAAW;AAEV,MAAM,aAAa;IACtB,OAAO;AACX","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/router/routes/index.ts"],"sourcesContent":["import { authRoutes } from './auth';\n\nexport const routes = {\n    index: '/',\n    auth: authRoutes,\n} as const;\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,SAAS;IAClB,OAAO;IACP,MAAM,oJAAA,CAAA,aAAU;AACpB","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/router/protected.ts"],"sourcesContent":["import { routes } from './routes';\n\nexport const unauthenticatedForbiddenRoutes: string[] = [];\nexport const authenticatedForbiddenRoutes: string[] = [routes.auth.index];\n\nexport const isForbiddenRoute = (isAuthUser: boolean, pathname: string) => {\n    if (isAuthUser) {\n        return authenticatedForbiddenRoutes.some(route =>\n            pathname.includes(route)\n        );\n    }\n\n    return unauthenticatedForbiddenRoutes.some(route =>\n        pathname.includes(route)\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;;AAEO,MAAM,iCAA2C,EAAE;AACnD,MAAM,+BAAyC;IAAC,qJAAA,CAAA,SAAM,CAAC,IAAI,CAAC,KAAK;CAAC;AAElE,MAAM,mBAAmB,CAAC,YAAqB;IAClD,IAAI,YAAY;QACZ,OAAO,6BAA6B,IAAI,CAAC,CAAA,QACrC,SAAS,QAAQ,CAAC;IAE1B;IAEA,OAAO,+BAA+B,IAAI,CAAC,CAAA,QACvC,SAAS,QAAQ,CAAC;AAE1B","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/router/index.ts"],"sourcesContent":["export {\n    authenticatedForbiddenRoutes,\n    isForbiddenRoute,\n    unauthenticatedForbiddenRoutes,\n} from './protected';\nexport { routes } from './routes';\n"],"names":[],"mappings":";AAAA;AAKA","debugId":null}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/model/constants/stepsResults.ts"],"sourcesContent":["export enum AuthType {\r\n  Login = \"login\",\r\n  Register = \"register\",\r\n}\r\n\r\nexport enum StepEnterEmailResult {\r\n  Registration = \"registration\",\r\n  SignIn = \"sign-in\",\r\n}\r\n\r\nexport enum StepEnterSignUpPasswordResultCode {\r\n  // FIXME: add guard error code\r\n  EmailCodeRequired = \"\",\r\n}\r\n\r\nexport enum StepFinishSignUpResult {\r\n  Success = \"success\",\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,IAAA,AAAK,kCAAA;;;WAAA;;AAKL,IAAA,AAAK,8CAAA;;;WAAA;;AAKL,IAAA,AAAK,2DAAA;IACV,8BAA8B;;WADpB;;AAKL,IAAA,AAAK,gDAAA;;WAAA","debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/model/constants/withoutBackButtonSteps.ts"],"sourcesContent":["import { AuthFlowStep } from \"./flowSteps\";\r\n\r\nexport const WITHOUT_BACK_BUTTON_STEPS = [\r\n  AuthFlowStep.AuthType,\r\n  AuthFlowStep.EnterEmail,\r\n];\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,4BAA4B;IACvC,wKAAA,CAAA,eAAY,CAAC,QAAQ;IACrB,wKAAA,CAAA,eAAY,CAAC,UAAU;CACxB","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/AuthFlow/useAuthFlow.ts"],"sourcesContent":["import { useCallback, useState } from \"react\";\r\nimport { AuthFlowStep } from \"../../model/constants/flowSteps\";\r\nimport {\r\n  AuthType,\r\n  StepEnterEmailResult,\r\n  StepFinishSignUpResult,\r\n} from \"../../model/constants/stepsResults\";\r\nimport { WITHOUT_BACK_BUTTON_STEPS } from \"../../model/constants/withoutBackButtonSteps\";\r\n\r\ninterface UseAuthFlowProps {\r\n  onSuccess: () => void;\r\n}\r\nexport const useAuthFlow = ({ onSuccess }: UseAuthFlowProps) => {\r\n  const [currentStep, setCurrentStep] = useState<AuthFlowStep>(\r\n    AuthFlowStep.AuthType\r\n  );\r\n\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [authType, setAuthType] = useState<AuthType | null>(null);\r\n\r\n  const handleResetToAuthTypeStep = useCallback(() => {\r\n    setCurrentStep(AuthFlowStep.AuthType);\r\n    setAuthType(null);\r\n  }, []);\r\n\r\n  const handleSetCurrentEmail = useCallback((email: string) => {\r\n    setEmail(email);\r\n  }, []);\r\n\r\n  const handleAuthTypeSelect = useCallback((type: AuthType) => {\r\n    setAuthType(type);\r\n    switch (type) {\r\n      case AuthType.Login:\r\n        setCurrentStep(AuthFlowStep.Login);\r\n        break;\r\n      case AuthType.Register:\r\n        setCurrentStep(AuthFlowStep.Register);\r\n        break;\r\n    }\r\n  }, []);\r\n\r\n  const handleStepEnterEmailComplete = useCallback(\r\n    (result: StepEnterEmailResult) => {\r\n      switch (result) {\r\n        case StepEnterEmailResult.Registration:\r\n          setCurrentStep(AuthFlowStep.EnterSignUpPassword);\r\n          break;\r\n        case StepEnterEmailResult.SignIn:\r\n          setCurrentStep(AuthFlowStep.EnterSignInPassword);\r\n          break;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const handleStepFinishSignUpComplete = useCallback(\r\n    async (result: { code: StepFinishSignUpResult }) => {\r\n      if (result.code === StepFinishSignUpResult.Success) {\r\n        onSuccess();\r\n      }\r\n    },\r\n    [onSuccess]\r\n  );\r\n\r\n  return {\r\n    currentStep,\r\n    email,\r\n    authType,\r\n    handleResetToAuthTypeStep,\r\n    handleSetCurrentEmail,\r\n    handleAuthTypeSelect,\r\n    handleStepEnterEmailComplete,\r\n    handleStepFinishSignUpComplete,\r\n    showBackButton: !WITHOUT_BACK_BUTTON_STEPS.includes(currentStep),\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AAKA;;;;;;AAKO,MAAM,cAAc,CAAC,EAAE,SAAS,EAAoB;;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAC3C,wKAAA,CAAA,eAAY,CAAC,QAAQ;IAGvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAU;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAmB;IAE1D,MAAM,4BAA4B,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;8DAAE;YAC5C,eAAe,wKAAA,CAAA,eAAY,CAAC,QAAQ;YACpC,YAAY;QACd;6DAAG,EAAE;IAEL,MAAM,wBAAwB,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;0DAAE,CAAC;YACzC,SAAS;QACX;yDAAG,EAAE;IAEL,MAAM,uBAAuB,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;yDAAE,CAAC;YACxC,YAAY;YACZ,OAAQ;gBACN,KAAK,2KAAA,CAAA,WAAQ,CAAC,KAAK;oBACjB,eAAe,wKAAA,CAAA,eAAY,CAAC,KAAK;oBACjC;gBACF,KAAK,2KAAA,CAAA,WAAQ,CAAC,QAAQ;oBACpB,eAAe,wKAAA,CAAA,eAAY,CAAC,QAAQ;oBACpC;YACJ;QACF;wDAAG,EAAE;IAEL,MAAM,+BAA+B,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;iEAC7C,CAAC;YACC,OAAQ;gBACN,KAAK,2KAAA,CAAA,uBAAoB,CAAC,YAAY;oBACpC,eAAe,wKAAA,CAAA,eAAY,CAAC,mBAAmB;oBAC/C;gBACF,KAAK,2KAAA,CAAA,uBAAoB,CAAC,MAAM;oBAC9B,eAAe,wKAAA,CAAA,eAAY,CAAC,mBAAmB;oBAC/C;YACJ;QACF;gEACA,EAAE;IAGJ,MAAM,iCAAiC,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;mEAC/C,OAAO;YACL,IAAI,OAAO,IAAI,KAAK,2KAAA,CAAA,yBAAsB,CAAC,OAAO,EAAE;gBAClD;YACF;QACF;kEACA;QAAC;KAAU;IAGb,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gBAAgB,CAAC,qLAAA,CAAA,4BAAyB,CAAC,QAAQ,CAAC;IACtD;AACF;GA/Da","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/steps/StepAuthType/StepAuthType.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"auth-type-button\": \"StepAuthType-module__2dRFDW__auth-type-button\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/steps/StepAuthType/StepAuthType.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useTranslation } from \"@/core/shared/i18n/client\";\r\nimport css from \"./StepAuthType.module.css\";\r\n\r\nexport enum AuthType {\r\n    Login = \"login\",\r\n    Register = \"register\",\r\n}\r\n\r\nexport interface StepAuthTypeProps {\r\n    onAuthTypeSelect: (authType: AuthType) => void;\r\n}\r\n\r\nexport const StepAuthType = ({ onAuthTypeSelect }: StepAuthTypeProps) => {\r\n    const { t } = useTranslation([\"auth\"]);\r\n\r\n    return (\r\n        <div>\r\n            <h2>{t(\"welcome\")}</h2>\r\n            <p>{t(\"chooseAuthType\")}</p>\r\n\r\n            <div>\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => onAuthTypeSelect(AuthType.Login)}\r\n                    className={css[\"auth-type-button\"]}\r\n                >\r\n                    {t(\"signIn\")}\r\n                </button>\r\n\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => onAuthTypeSelect(AuthType.Register)}\r\n                    className={css[\"auth-type-button\"]}\r\n                >\r\n                    {t(\"signUp\")}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKO,IAAA,AAAK,kCAAA;;;WAAA;;AASL,MAAM,eAAe,CAAC,EAAE,gBAAgB,EAAqB;;IAChE,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0IAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;KAAO;IAErC,qBACI,4TAAC;;0BACG,4TAAC;0BAAI,EAAE;;;;;;0BACP,4TAAC;0BAAG,EAAE;;;;;;0BAEN,4TAAC;;kCACG,4TAAC;wBACG,MAAK;wBACL,SAAS,IAAM;wBACf,WAAW,gMAAA,CAAA,UAAG,CAAC,mBAAmB;kCAEjC,EAAE;;;;;;kCAGP,4TAAC;wBACG,MAAK;wBACL,SAAS,IAAM;wBACf,WAAW,gMAAA,CAAA,UAAG,CAAC,mBAAmB;kCAEjC,EAAE;;;;;;;;;;;;;;;;;;AAKvB;GA3Ba;;QACK,0IAAA,CAAA,iBAAc;;;KADnB","debugId":null}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/hooks/useEmailInput.ts"],"sourcesContent":["import { FormEvent, useCallback } from 'react';\r\n\r\n\r\ninterface UseEmailInputProps {\r\n\tonEmailChange: (value: string) => void;\r\n}\r\n\r\ninterface UseEmailInputReturn {\r\n\thandleInputChange: (e: FormEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nexport const useEmailInput = ({ onEmailChange }: UseEmailInputProps): UseEmailInputReturn => {\r\n\tconst handleInputChange = useCallback(\r\n\t\t(e: FormEvent<HTMLInputElement>) => {\r\n\t\t\tconst value = e.currentTarget.value;\r\n\t\t\tconst valueWithoutSpaces = value.replace(/\\s/g, '');\r\n\t\t\tonEmailChange(valueWithoutSpaces);\r\n\t\t},\r\n\t\t[onEmailChange],\r\n\t);\r\n\r\n\treturn {\r\n\t\thandleInputChange,\r\n\t};\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;;AAWO,MAAM,gBAAgB,CAAC,EAAE,aAAa,EAAsB;;IAClE,MAAM,oBAAoB,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;wDACnC,CAAC;YACA,MAAM,QAAQ,EAAE,aAAa,CAAC,KAAK;YACnC,MAAM,qBAAqB,MAAM,OAAO,CAAC,OAAO;YAChD,cAAc;QACf;uDACA;QAAC;KAAc;IAGhB,OAAO;QACN;IACD;AACD;GAba","debugId":null}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/components/Support/Support.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n});\n"],"names":[],"mappings":"AAAA;AACA"}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/components/Support/Support.tsx"],"sourcesContent":["import { useTranslation } from '@/core/shared/i18n/client';\r\n\r\nimport css from './Support.module.css';\r\n\r\nexport const Support = () => {\r\n\tconst { t } = useTranslation(['auth', 'common']);\r\n\r\n\treturn (\r\n\t\t<div className={css.support}>\r\n\t\t\t<p className={css.supportText}>{t('auth:needHelp')}</p>\r\n\r\n            {/* FIXME: get support email from .env or constant */}\r\n            <a href={`mailto:${t('common:links.supportEmail')}`} className={css.supportLink}>\r\n                {t('common:links.supportEmail')}\r\n            </a>\r\n\t\t</div>\r\n\t);\r\n};"],"names":[],"mappings":";;;;AAAA;AAEA;;;;;AAEO,MAAM,UAAU;;IACtB,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0IAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;QAAQ;KAAS;IAE/C,qBACC,4TAAC;QAAI,WAAW,2LAAA,CAAA,UAAG,CAAC,OAAO;;0BAC1B,4TAAC;gBAAE,WAAW,2LAAA,CAAA,UAAG,CAAC,WAAW;0BAAG,EAAE;;;;;;0BAGzB,4TAAC;gBAAE,MAAM,CAAC,OAAO,EAAE,EAAE,8BAA8B;gBAAE,WAAW,2LAAA,CAAA,UAAG,CAAC,WAAW;0BAC1E,EAAE;;;;;;;;;;;;AAInB;GAba;;QACE,0IAAA,CAAA,iBAAc;;;KADhB","debugId":null}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/steps/StepLogin/StepLogin.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"error\": \"StepLogin-module__2BQh0W__error\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/steps/StepLogin/StepLogin.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { useEmailInput } from \"@/core/shared/hooks/useEmailInput\";\r\nimport { useTranslation } from \"@/core/shared/i18n/client\";\r\nimport { Support } from \"../../components/Support/Support\";\r\nimport css from \"./StepLogin.module.css\";\r\n\r\nexport interface StepLoginProps {\r\n    onLogin: (email: string, password: string) => void;\r\n    onEmailChange: (email: string) => void;\r\n    email: string;\r\n    isLoading?: boolean;\r\n    errorMessage?: string;\r\n}\r\n\r\ninterface FormData {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\nconst loginSchema = z.object({\r\n    email: z.string().email(\"Please enter a valid email address\"),\r\n    password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n});\r\n\r\nexport const StepLogin = ({\r\n    onLogin,\r\n    onEmailChange,\r\n    email,\r\n    isLoading = false,\r\n    errorMessage,\r\n}: StepLoginProps) => {\r\n    const { t } = useTranslation([\"auth\"]);\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors },\r\n        setValue,\r\n    } = useForm<FormData>({\r\n        resolver: zodResolver(loginSchema),\r\n        defaultValues: { email, password: \"\" },\r\n    });\r\n\r\n    const { handleInputChange } = useEmailInput({\r\n        onEmailChange: (newEmail) => {\r\n            setValue(\"email\", newEmail);\r\n            onEmailChange(newEmail);\r\n        },\r\n    });\r\n\r\n    const onSubmit = (data: FormData) => {\r\n        if (isLoading) return;\r\n        onLogin(data.email, data.password);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>{t(\"signIn\")}</h2>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <div>\r\n                    <label htmlFor=\"email\">{t(\"email\")}</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        {...register(\"email\")}\r\n                        onChange={handleInputChange}\r\n                        placeholder={t(\"enterEmail\")}\r\n                    />\r\n                    {errors.email && <span className={css.error}>{errors.email.message}</span>}\r\n                </div>\r\n\r\n                <div>\r\n                    <label htmlFor=\"password\">{t(\"password\")}</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        {...register(\"password\")}\r\n                        placeholder={t(\"enterPassword\")}\r\n                    />\r\n                    {errors.password && <span className={css.error}>{errors.password.message}</span>}\r\n                </div>\r\n\r\n                {errorMessage && (\r\n                    <span className={css.error}>{errorMessage}</span>\r\n                )}\r\n\r\n                <button type=\"submit\" disabled={isLoading}>\r\n                    {isLoading ? t(\"loading\") : t(\"signIn\")}\r\n                </button>\r\n\r\n                <Support />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AATA;;;;;;;;AAwBA,MAAM,cAAc,uNAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzB,OAAO,uNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,uNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAChC;AAEO,MAAM,YAAY,CAAC,EACtB,OAAO,EACP,aAAa,EACb,KAAK,EACL,YAAY,KAAK,EACjB,YAAY,EACC;;IACb,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0IAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;KAAO;IAErC,MAAM,EACF,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,QAAQ,EACX,GAAG,CAAA,GAAA,0PAAA,CAAA,UAAO,AAAD,EAAY;QAClB,UAAU,CAAA,GAAA,wQAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YAAE;YAAO,UAAU;QAAG;IACzC;IAEA,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,kJAAA,CAAA,gBAAa,AAAD,EAAE;QACxC,aAAa;uCAAE,CAAC;gBACZ,SAAS,SAAS;gBAClB,cAAc;YAClB;;IACJ;IAEA,MAAM,WAAW,CAAC;QACd,IAAI,WAAW;QACf,QAAQ,KAAK,KAAK,EAAE,KAAK,QAAQ;IACrC;IAEA,qBACI,4TAAC;;0BACG,4TAAC;0BAAI,EAAE;;;;;;0BAEP,4TAAC;gBAAK,UAAU,aAAa;;kCACzB,4TAAC;;0CACG,4TAAC;gCAAM,SAAQ;0CAAS,EAAE;;;;;;0CAC1B,4TAAC;gCACG,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,QAAQ;gCACrB,UAAU;gCACV,aAAa,EAAE;;;;;;4BAElB,OAAO,KAAK,kBAAI,4TAAC;gCAAK,WAAW,0LAAA,CAAA,UAAG,CAAC,KAAK;0CAAG,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;kCAGtE,4TAAC;;0CACG,4TAAC;gCAAM,SAAQ;0CAAY,EAAE;;;;;;0CAC7B,4TAAC;gCACG,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,WAAW;gCACxB,aAAa,EAAE;;;;;;4BAElB,OAAO,QAAQ,kBAAI,4TAAC;gCAAK,WAAW,0LAAA,CAAA,UAAG,CAAC,KAAK;0CAAG,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;oBAG3E,8BACG,4TAAC;wBAAK,WAAW,0LAAA,CAAA,UAAG,CAAC,KAAK;kCAAG;;;;;;kCAGjC,4TAAC;wBAAO,MAAK;wBAAS,UAAU;kCAC3B,YAAY,EAAE,aAAa,EAAE;;;;;;kCAGlC,4TAAC,gLAAA,CAAA,UAAO;;;;;;;;;;;;;;;;;AAIxB;GAvEa;;QAOK,0IAAA,CAAA,iBAAc;QAOxB,0PAAA,CAAA,UAAO;QAKmB,kJAAA,CAAA,gBAAa;;;KAnBlC","debugId":null}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/steps/StepRegister/StepRegister.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"error\": \"StepRegister-module__BMEe2W__error\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 646, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/steps/StepRegister/StepRegister.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { useEmailInput } from \"@/core/shared/hooks/useEmailInput\";\r\nimport { useTranslation } from \"@/core/shared/i18n/client\";\r\nimport { Support } from \"../../components/Support/Support\";\r\nimport css from \"./StepRegister.module.css\";\r\n\r\nexport interface StepRegisterProps {\r\n    onRegister: (email: string, password: string) => void;\r\n    onEmailChange: (email: string) => void;\r\n    email: string;\r\n    isLoading?: boolean;\r\n    errorMessage?: string;\r\n}\r\n\r\ninterface FormData {\r\n    email: string;\r\n    password: string;\r\n    confirmPassword: string;\r\n}\r\n\r\nconst registerSchema = z.object({\r\n    email: z.string().email(\"Please enter a valid email address\"),\r\n    password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n    confirmPassword: z.string(),\r\n}).refine((data) => data.password === data.confirmPassword, {\r\n    message: \"Passwords don't match\",\r\n    path: [\"confirmPassword\"],\r\n});\r\n\r\nexport const StepRegister = ({\r\n    onRegister,\r\n    onEmailChange,\r\n    email,\r\n    isLoading = false,\r\n    errorMessage,\r\n}: StepRegisterProps) => {\r\n    const { t } = useTranslation([\"auth\"]);\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors },\r\n        setValue,\r\n    } = useForm<FormData>({\r\n        resolver: zodResolver(registerSchema),\r\n        defaultValues: { email, password: \"\", confirmPassword: \"\" },\r\n    });\r\n\r\n    const { handleInputChange } = useEmailInput({\r\n        onEmailChange: (newEmail) => {\r\n            setValue(\"email\", newEmail);\r\n            onEmailChange(newEmail);\r\n        },\r\n    });\r\n\r\n    const onSubmit = (data: FormData) => {\r\n        if (isLoading) return;\r\n        onRegister(data.email, data.password);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>{t(\"signUp\")}</h2>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <div>\r\n                    <label htmlFor=\"email\">{t(\"email\")}</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        {...register(\"email\")}\r\n                        onChange={handleInputChange}\r\n                        placeholder={t(\"enterEmail\")}\r\n                    />\r\n                    {errors.email && <span className={css.error}>{errors.email.message}</span>}\r\n                </div>\r\n\r\n                <div>\r\n                    <label htmlFor=\"password\">{t(\"password\")}</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        {...register(\"password\")}\r\n                        placeholder={t(\"enterPassword\")}\r\n                    />\r\n                    {errors.password && <span className={css.error}>{errors.password.message}</span>}\r\n                </div>\r\n\r\n                <div>\r\n                    <label htmlFor=\"confirmPassword\">{t(\"confirmPassword\")}</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"confirmPassword\"\r\n                        {...register(\"confirmPassword\")}\r\n                        placeholder={t(\"confirmPassword\")}\r\n                    />\r\n                    {errors.confirmPassword && <span className={css.error}>{errors.confirmPassword.message}</span>}\r\n                </div>\r\n\r\n                {errorMessage && (\r\n                    <span className={css.error}>{errorMessage}</span>\r\n                )}\r\n\r\n                <button type=\"submit\" disabled={isLoading}>\r\n                    {isLoading ? t(\"loading\") : t(\"signUp\")}\r\n                </button>\r\n\r\n                <Support />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AATA;;;;;;;;AAyBA,MAAM,iBAAiB,uNAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC5B,OAAO,uNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,uNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,iBAAiB,uNAAA,CAAA,IAAC,CAAC,MAAM;AAC7B,GAAG,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,KAAK,KAAK,eAAe,EAAE;IACxD,SAAS;IACT,MAAM;QAAC;KAAkB;AAC7B;AAEO,MAAM,eAAe,CAAC,EACzB,UAAU,EACV,aAAa,EACb,KAAK,EACL,YAAY,KAAK,EACjB,YAAY,EACI;;IAChB,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0IAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;KAAO;IAErC,MAAM,EACF,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,QAAQ,EACX,GAAG,CAAA,GAAA,0PAAA,CAAA,UAAO,AAAD,EAAY;QAClB,UAAU,CAAA,GAAA,wQAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YAAE;YAAO,UAAU;YAAI,iBAAiB;QAAG;IAC9D;IAEA,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,kJAAA,CAAA,gBAAa,AAAD,EAAE;QACxC,aAAa;0CAAE,CAAC;gBACZ,SAAS,SAAS;gBAClB,cAAc;YAClB;;IACJ;IAEA,MAAM,WAAW,CAAC;QACd,IAAI,WAAW;QACf,WAAW,KAAK,KAAK,EAAE,KAAK,QAAQ;IACxC;IAEA,qBACI,4TAAC;;0BACG,4TAAC;0BAAI,EAAE;;;;;;0BAEP,4TAAC;gBAAK,UAAU,aAAa;;kCACzB,4TAAC;;0CACG,4TAAC;gCAAM,SAAQ;0CAAS,EAAE;;;;;;0CAC1B,4TAAC;gCACG,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,QAAQ;gCACrB,UAAU;gCACV,aAAa,EAAE;;;;;;4BAElB,OAAO,KAAK,kBAAI,4TAAC;gCAAK,WAAW,gMAAA,CAAA,UAAG,CAAC,KAAK;0CAAG,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;kCAGtE,4TAAC;;0CACG,4TAAC;gCAAM,SAAQ;0CAAY,EAAE;;;;;;0CAC7B,4TAAC;gCACG,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,WAAW;gCACxB,aAAa,EAAE;;;;;;4BAElB,OAAO,QAAQ,kBAAI,4TAAC;gCAAK,WAAW,gMAAA,CAAA,UAAG,CAAC,KAAK;0CAAG,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;kCAG5E,4TAAC;;0CACG,4TAAC;gCAAM,SAAQ;0CAAmB,EAAE;;;;;;0CACpC,4TAAC;gCACG,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,kBAAkB;gCAC/B,aAAa,EAAE;;;;;;4BAElB,OAAO,eAAe,kBAAI,4TAAC;gCAAK,WAAW,gMAAA,CAAA,UAAG,CAAC,KAAK;0CAAG,OAAO,eAAe,CAAC,OAAO;;;;;;;;;;;;oBAGzF,8BACG,4TAAC;wBAAK,WAAW,gMAAA,CAAA,UAAG,CAAC,KAAK;kCAAG;;;;;;kCAGjC,4TAAC;wBAAO,MAAK;wBAAS,UAAU;kCAC3B,YAAY,EAAE,aAAa,EAAE;;;;;;kCAGlC,4TAAC,gLAAA,CAAA,UAAO;;;;;;;;;;;;;;;;;AAIxB;GAlFa;;QAOK,0IAAA,CAAA,iBAAc;QAOxB,0PAAA,CAAA,UAAO;QAKmB,kJAAA,CAAA,gBAAa;;;KAnBlC","debugId":null}},
    {"offset": {"line": 871, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/steps/StepEnterEmail/StepEnterEmail.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { useEmailInput } from \"@/core/shared/hooks/useEmailInput\";\r\nimport { useTranslation } from \"@/core/shared/i18n/client\";\r\nimport { StepEnterEmailResult } from \"../../../model/constants/stepsResults\";\r\nimport { Support } from \"../../components/Support/Support\";\r\n\r\nexport interface StepEnterEmailProps {\r\n  onComplete: (result: StepEnterEmailResult) => void;\r\n  onEmailChange: (email: string) => void;\r\n  email: string;\r\n}\r\n\r\ninterface FormData {\r\n  email: string;\r\n}\r\n\r\nconst emailSchema = z.object({\r\n  email: z.string().email(\"Please enter a valid email address\"),\r\n});\r\n\r\nexport const StepEnterEmail = ({\r\n  onComplete,\r\n  onEmailChange,\r\n  email,\r\n}: StepEnterEmailProps) => {\r\n  const { t } = useTranslation([\"auth\"]);\r\n\r\n  // Form setup\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(emailSchema),\r\n    defaultValues: { email },\r\n  });\r\n\r\n  const { handleInputChange } = useEmailInput({\r\n    onEmailChange: (newEmail) => {\r\n      setValue(\"email\", newEmail);\r\n    },\r\n  });\r\n\r\n  const onSubmit = (data: FormData) => {\r\n    onEmailChange(data.email);\r\n    // For now, we'll assume it's a sign-in flow\r\n    // In the future, this could be replaced with actual API call\r\n    onComplete(StepEnterEmailResult.SignIn);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <label htmlFor=\"email\">{t(\"email\")}</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          {...register(\"email\")}\r\n          onChange={handleInputChange}\r\n          placeholder={t(\"enterEmail\")}\r\n        />\r\n\r\n        {errors.email && <span className=\"error\">{errors.email.message}</span>}\r\n\r\n        <button type=\"submit\">\r\n          {t(\"continue\")}\r\n        </button>\r\n\r\n        <Support />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AATA;;;;;;;;AAqBA,MAAM,cAAc,uNAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC3B,OAAO,uNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;AAC1B;AAEO,MAAM,iBAAiB,CAAC,EAC7B,UAAU,EACV,aAAa,EACb,KAAK,EACe;;IACpB,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,0IAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;KAAO;IAErC,aAAa;IACb,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,QAAQ,EACT,GAAG,CAAA,GAAA,0PAAA,CAAA,UAAO,AAAD,EAAY;QACpB,UAAU,CAAA,GAAA,wQAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YAAE;QAAM;IACzB;IAEA,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,kJAAA,CAAA,gBAAa,AAAD,EAAE;QAC1C,aAAa;4CAAE,CAAC;gBACd,SAAS,SAAS;YACpB;;IACF;IAEA,MAAM,WAAW,CAAC;QAChB,cAAc,KAAK,KAAK;QACxB,4CAA4C;QAC5C,6DAA6D;QAC7D,WAAW,2KAAA,CAAA,uBAAoB,CAAC,MAAM;IACxC;IAEA,qBACE,4TAAC;kBACC,cAAA,4TAAC;YAAK,UAAU,aAAa;;8BAC3B,4TAAC;oBAAM,SAAQ;8BAAS,EAAE;;;;;;8BAC1B,4TAAC;oBACC,MAAK;oBACL,IAAG;oBACF,GAAG,SAAS,QAAQ;oBACrB,UAAU;oBACV,aAAa,EAAE;;;;;;gBAGhB,OAAO,KAAK,kBAAI,4TAAC;oBAAK,WAAU;8BAAS,OAAO,KAAK,CAAC,OAAO;;;;;;8BAE9D,4TAAC;oBAAO,MAAK;8BACV,EAAE;;;;;;8BAGL,4TAAC,gLAAA,CAAA,UAAO;;;;;;;;;;;;;;;;AAIhB;GArDa;;QAKG,0IAAA,CAAA,iBAAc;QAQxB,0PAAA,CAAA,UAAO;QAKmB,kJAAA,CAAA,gBAAa;;;KAlBhC","debugId":null}},
    {"offset": {"line": 995, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/hooks/useLogin.ts"],"sourcesContent":["import { useState } from \"react\";\r\n\r\ninterface UseLoginReturn {\r\n  isLoading: boolean;\r\n  login: (email: string, password: string) => Promise<void>;\r\n  hasError: boolean;\r\n  errorMessage: string;\r\n}\r\n\r\nexport const useLogin = (): UseLoginReturn => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleError = (\r\n    message: string = \"common:errors.serverNotAvailableTryAgainLater\"\r\n  ) => {\r\n    setHasError(true);\r\n    setErrorMessage(message);\r\n  };\r\n\r\n  const login = async (email: string, password: string) => {\r\n    setIsLoading(true);\r\n    setHasError(false);\r\n    setErrorMessage(\"\");\r\n\r\n    try {\r\n      // TODO: Replace with actual API call\r\n      const response = await fetch(\"/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 401) {\r\n          handleError(\"auth:errors.invalidCredentials\");\r\n        } else {\r\n          handleError();\r\n        }\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      // Handle successful login\r\n      console.log(\"Login successful:\", data);\r\n    } catch {\r\n      handleError();\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isLoading,\r\n    login,\r\n    hasError,\r\n    errorMessage,\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;;AASO,MAAM,WAAW;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,cAAc,CAClB,UAAkB,+CAA+C;QAEjE,YAAY;QACZ,gBAAgB;IAClB;IAEA,MAAM,QAAQ,OAAO,OAAe;QAClC,aAAa;QACb,YAAY;QACZ,gBAAgB;QAEhB,IAAI;YACF,qCAAqC;YACrC,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,IAAI,SAAS,MAAM,KAAK,KAAK;oBAC3B,YAAY;gBACd,OAAO;oBACL;gBACF;gBACA;YACF;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,0BAA0B;YAC1B,QAAQ,GAAG,CAAC,qBAAqB;QACnC,EAAE,OAAM;YACN;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;GApDa","debugId":null}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/hooks/useRegister.ts"],"sourcesContent":["import { useState } from \"react\";\r\n\r\ninterface UseRegisterReturn {\r\n  isLoading: boolean;\r\n  register: (email: string, password: string) => Promise<void>;\r\n  hasError: boolean;\r\n  errorMessage: string;\r\n}\r\n\r\nexport const useRegister = (): UseRegisterReturn => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleError = (\r\n    message: string = \"common:errors.serverNotAvailableTryAgainLater\"\r\n  ) => {\r\n    setHasError(true);\r\n    setErrorMessage(message);\r\n  };\r\n\r\n  const register = async (email: string, password: string) => {\r\n    setIsLoading(true);\r\n    setHasError(false);\r\n    setErrorMessage(\"\");\r\n\r\n    try {\r\n      // TODO: Replace with actual API call\r\n      const response = await fetch(\"/api/auth/register\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 409) {\r\n          handleError(\"auth:errors.emailAlreadyExists\");\r\n        } else {\r\n          handleError();\r\n        }\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      // Handle successful registration\r\n      console.log(\"Registration successful:\", data);\r\n    } catch {\r\n      handleError();\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isLoading,\r\n    register,\r\n    hasError,\r\n    errorMessage,\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;;AASO,MAAM,cAAc;;IACzB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,cAAc,CAClB,UAAkB,+CAA+C;QAEjE,YAAY;QACZ,gBAAgB;IAClB;IAEA,MAAM,WAAW,OAAO,OAAe;QACrC,aAAa;QACb,YAAY;QACZ,gBAAgB;QAEhB,IAAI;YACF,qCAAqC;YACrC,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,IAAI,SAAS,MAAM,KAAK,KAAK;oBAC3B,YAAY;gBACd,OAAO;oBACL;gBACF;gBACA;YACF;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,iCAAiC;YACjC,QAAQ,GAAG,CAAC,4BAA4B;QAC1C,EAAE,OAAM;YACN;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;GApDa","debugId":null}},
    {"offset": {"line": 1125, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/AuthFlow/AuthFlow.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { routes } from \"@/core/shared/router\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useCallback, useEffect, useMemo } from \"react\";\r\nimport { AuthFlowStep } from \"../../model/constants/flowSteps\";\r\nimport { useAuthFlow } from \"./useAuthFlow\";\r\nimport { StepAuthType } from \"../steps/StepAuthType/StepAuthType\";\r\nimport { StepLogin } from \"../steps/StepLogin/StepLogin\";\r\nimport { StepRegister } from \"../steps/StepRegister/StepRegister\";\r\nimport { StepEnterEmail } from \"../steps/StepEnterEmail/StepEnterEmail\";\r\nimport { useLogin } from \"../../hooks/useLogin\";\r\nimport { useRegister } from \"../../hooks/useRegister\";\r\n\r\n// import css from \"./AuthFlow.module.css\";\r\n\r\ninterface AuthFlowProps {\r\n  onStepChange?: (step: AuthFlowStep) => void;\r\n}\r\n\r\nexport const AuthFlow = ({ onStepChange }: AuthFlowProps) => {\r\n  const router = useRouter();\r\n\r\n  const onAuthSuccess = useCallback(() => {\r\n    router.push(routes.index);\r\n  }, [router]);\r\n\r\n  const {\r\n    currentStep,\r\n    email,\r\n    authType,\r\n    handleResetToAuthTypeStep,\r\n    handleSetCurrentEmail,\r\n    handleAuthTypeSelect,\r\n    handleStepEnterEmailComplete,\r\n    handleStepFinishSignUpComplete,\r\n  } = useAuthFlow({ onSuccess: onAuthSuccess });\r\n\r\n  const { login, isLoading: isLoginLoading, hasError: hasLoginError, errorMessage: loginErrorMessage } = useLogin();\r\n  const { register, isLoading: isRegisterLoading, hasError: hasRegisterError, errorMessage: registerErrorMessage } = useRegister();\r\n\r\n  useEffect(() => {\r\n    onStepChange?.(currentStep);\r\n  }, [currentStep, onStepChange]);\r\n\r\n  const handleLogin = useCallback(async (email: string, password: string) => {\r\n    await login(email, password);\r\n    // If login is successful, onAuthSuccess will be called\r\n  }, [login]);\r\n\r\n  const handleRegister = useCallback(async (email: string, password: string) => {\r\n    await register(email, password);\r\n    // If registration is successful, onAuthSuccess will be called\r\n  }, [register]);\r\n\r\n  const authStep = useMemo(() => {\r\n    switch (currentStep) {\r\n      case AuthFlowStep.AuthType:\r\n        return (\r\n          <StepAuthType\r\n            onAuthTypeSelect={handleAuthTypeSelect}\r\n          />\r\n        );\r\n      case AuthFlowStep.Login:\r\n        return (\r\n          <StepLogin\r\n            email={email}\r\n            onEmailChange={handleSetCurrentEmail}\r\n            onLogin={handleLogin}\r\n            isLoading={isLoginLoading}\r\n            errorMessage={hasLoginError ? loginErrorMessage : undefined}\r\n          />\r\n        );\r\n      case AuthFlowStep.Register:\r\n        return (\r\n          <StepRegister\r\n            email={email}\r\n            onEmailChange={handleSetCurrentEmail}\r\n            onRegister={handleRegister}\r\n            isLoading={isRegisterLoading}\r\n            errorMessage={hasRegisterError ? registerErrorMessage : undefined}\r\n          />\r\n        );\r\n      case AuthFlowStep.EnterEmail:\r\n        return (\r\n          <StepEnterEmail\r\n            email={email}\r\n            onEmailChange={handleSetCurrentEmail}\r\n            onComplete={handleStepEnterEmailComplete}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }, [currentStep, email, authType, handleAuthTypeSelect, handleSetCurrentEmail, handleLogin, handleRegister, handleStepEnterEmailComplete, isLoginLoading, isRegisterLoading, hasLoginError, hasRegisterError, loginErrorMessage, registerErrorMessage]);\r\n\r\n  return <div>{authStep}</div>;\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAZA;;;;;;;;;;;;AAoBO,MAAM,WAAW,CAAC,EAAE,YAAY,EAAiB;;IACtD,MAAM,SAAS,CAAA,GAAA,oQAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,gBAAgB,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;+CAAE;YAChC,OAAO,IAAI,CAAC,qJAAA,CAAA,SAAM,CAAC,KAAK;QAC1B;8CAAG;QAAC;KAAO;IAEX,MAAM,EACJ,WAAW,EACX,KAAK,EACL,QAAQ,EACR,yBAAyB,EACzB,qBAAqB,EACrB,oBAAoB,EACpB,4BAA4B,EAC5B,8BAA8B,EAC/B,GAAG,CAAA,GAAA,sKAAA,CAAA,cAAW,AAAD,EAAE;QAAE,WAAW;IAAc;IAE3C,MAAM,EAAE,KAAK,EAAE,WAAW,cAAc,EAAE,UAAU,aAAa,EAAE,cAAc,iBAAiB,EAAE,GAAG,CAAA,GAAA,0JAAA,CAAA,WAAQ,AAAD;IAC9G,MAAM,EAAE,QAAQ,EAAE,WAAW,iBAAiB,EAAE,UAAU,gBAAgB,EAAE,cAAc,oBAAoB,EAAE,GAAG,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;IAE7H,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;8BAAE;YACR,eAAe;QACjB;6BAAG;QAAC;QAAa;KAAa;IAE9B,MAAM,cAAc,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;6CAAE,OAAO,OAAe;YACpD,MAAM,MAAM,OAAO;QACnB,uDAAuD;QACzD;4CAAG;QAAC;KAAM;IAEV,MAAM,iBAAiB,CAAA,GAAA,4RAAA,CAAA,cAAW,AAAD;gDAAE,OAAO,OAAe;YACvD,MAAM,SAAS,OAAO;QACtB,8DAA8D;QAChE;+CAAG;QAAC;KAAS;IAEb,MAAM,WAAW,CAAA,GAAA,4RAAA,CAAA,UAAO,AAAD;sCAAE;YACvB,OAAQ;gBACN,KAAK,wKAAA,CAAA,eAAY,CAAC,QAAQ;oBACxB,qBACE,4TAAC,qLAAA,CAAA,eAAY;wBACX,kBAAkB;;;;;;gBAGxB,KAAK,wKAAA,CAAA,eAAY,CAAC,KAAK;oBACrB,qBACE,4TAAC,+KAAA,CAAA,YAAS;wBACR,OAAO;wBACP,eAAe;wBACf,SAAS;wBACT,WAAW;wBACX,cAAc,gBAAgB,oBAAoB;;;;;;gBAGxD,KAAK,wKAAA,CAAA,eAAY,CAAC,QAAQ;oBACxB,qBACE,4TAAC,qLAAA,CAAA,eAAY;wBACX,OAAO;wBACP,eAAe;wBACf,YAAY;wBACZ,WAAW;wBACX,cAAc,mBAAmB,uBAAuB;;;;;;gBAG9D,KAAK,wKAAA,CAAA,eAAY,CAAC,UAAU;oBAC1B,qBACE,4TAAC,yLAAA,CAAA,iBAAc;wBACb,OAAO;wBACP,eAAe;wBACf,YAAY;;;;;;gBAGlB;oBACE,OAAO;YACX;QACF;qCAAG;QAAC;QAAa;QAAO;QAAU;QAAsB;QAAuB;QAAa;QAAgB;QAA8B;QAAgB;QAAmB;QAAe;QAAkB;QAAmB;KAAqB;IAEtP,qBAAO,4TAAC;kBAAK;;;;;;AACf;GA7Ea;;QACI,oQAAA,CAAA,YAAS;QAepB,sKAAA,CAAA,cAAW;QAEwF,0JAAA,CAAA,WAAQ;QACI,6JAAA,CAAA,cAAW;;;KAnBnH","debugId":null}},
    {"offset": {"line": 1286, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/AuthFlowBlock/AuthFlowBlock.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n});\n"],"names":[],"mappings":"AAAA;AACA"}},
    {"offset": {"line": 1294, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/AuthFlowBlock/AuthFlowBlock.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\nimport { LanguageSelector } from '@/core/features/LanguageSelector/ui';\r\n\r\nimport { AuthFlowStep } from '../../model/constants/flowSteps';\r\nimport { AuthFlow } from '../AuthFlow/AuthFlow';\r\n\r\nimport css from './AuthFlowBlock.module.css';\r\n\r\nexport const AuthFlowBlock = () => {\r\n\tconst [currentStep, setCurrentStep] = useState<AuthFlowStep | null>(null);\r\n\r\n\treturn (\r\n\t\t<div className={css.authFlowBlock}>\r\n\t\t\t<div className={css.formWrapper}>\r\n\t\t\t\t<AuthFlow onStepChange={setCurrentStep} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{currentStep === AuthFlowStep.EnterEmail && <LanguageSelector />}\r\n\t\t</div>\r\n\t);\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAEA;AACA;AAEA;;;AATA;;;;;;AAWO,MAAM,gBAAgB;;IAC5B,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,4RAAA,CAAA,WAAQ,AAAD,EAAuB;IAEpE,qBACC,4TAAC;QAAI,WAAW,yLAAA,CAAA,UAAG,CAAC,aAAa;;0BAChC,4TAAC;gBAAI,WAAW,yLAAA,CAAA,UAAG,CAAC,WAAW;0BAC9B,cAAA,4TAAC,oKAAA,CAAA,WAAQ;oBAAC,cAAc;;;;;;;;;;;YAGxB,gBAAgB,wKAAA,CAAA,eAAY,CAAC,UAAU,kBAAI,4TAAC,8JAAA,CAAA,mBAAgB;;;;;;;;;;;AAGhE;GAZa;KAAA","debugId":null}},
    {"offset": {"line": 1356, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/index.ts"],"sourcesContent":["export { AuthFlowBlock } from './ui/AuthFlowBlock/AuthFlowBlock';  "],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 1377, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/pages/Auth/Auth.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { AuthFlowBlock } from '@/core/widgets/AuthFlow';\r\n\r\n// import css from './Auth.module.css';\r\n\r\nexport const Auth = () => {\r\n  return (\r\n    <main>\r\n      <AuthFlowBlock />\r\n    </main>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAFA;;;AAMO,MAAM,OAAO;IAClB,qBACE,4TAAC;kBACC,cAAA,4TAAC,8KAAA,CAAA,gBAAa;;;;;;;;;;AAGpB;KANa","debugId":null}}]
}