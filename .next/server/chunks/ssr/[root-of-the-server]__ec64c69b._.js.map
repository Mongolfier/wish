{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/app/providers/ClientCookiesProvider/ClientCookiesProvider.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\nimport { CookiesProvider } from 'react-cookie';\n\ninterface ClientCookiesProviderProps {\n    readonly children: ReactNode;\n}\n\nexport function ClientCookiesProvider({\n    children,\n}: ClientCookiesProviderProps) {\n    return <CookiesProvider>{children}</CookiesProvider>;\n}\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AASO,SAAS,sBAAsB,EAClC,QAAQ,EACiB;IACzB,qBAAO,6WAAC,qRAAA,CAAA,kBAAe;kBAAE;;;;;;AAC7B","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/i18n/config.ts"],"sourcesContent":["import { InitOptions } from 'i18next';\nimport resourcesToBackend from 'i18next-resources-to-backend';\n\nconst fallbackLng = 'ru';\nexport const normalizedFallbackLng = fallbackLng.toLowerCase();\n\nconst languages = [fallbackLng, 'en'];\nexport const normalizedLanguages = languages.map(lang => lang.toLowerCase());\n\nexport const defaultNS = 'translations';\nexport const cookieName = 'locale' as const;\n\nexport function getI18nConfig(\n    lng: string = fallbackLng,\n    ns: string | string[] = defaultNS\n): InitOptions {\n    return {\n        supportedLngs: normalizedLanguages,\n        fallbackLng,\n        lowerCaseLng: true,\n        lng,\n        fallbackNS: defaultNS,\n        defaultNS,\n        ns,\n        backend: {\n            backends: [\n                resourcesToBackend(\n                    (lng: string, ns: string) =>\n                        import(`../../../../public/locales/${lng}/${ns}.json`)\n                ),\n            ],\n        },\n    };\n}\n"],"names":[],"mappings":";;;;;;;AACA;;AAEA,MAAM,cAAc;AACb,MAAM,wBAAwB,YAAY,WAAW;AAE5D,MAAM,YAAY;IAAC;IAAa;CAAK;AAC9B,MAAM,sBAAsB,UAAU,GAAG,CAAC,CAAA,OAAQ,KAAK,WAAW;AAElE,MAAM,YAAY;AAClB,MAAM,aAAa;AAEnB,SAAS,cACZ,MAAc,WAAW,EACzB,KAAwB,SAAS;IAEjC,OAAO;QACH,eAAe;QACf;QACA,cAAc;QACd;QACA,YAAY;QACZ;QACA;QACA,SAAS;YACL,UAAU;gBACN,CAAA,GAAA,+PAAA,CAAA,UAAkB,AAAD,EACb,CAAC,KAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BACH,CAAC,2BAA2B,EAAE,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC;aAEhE;QACL;IACJ;AACJ","debugId":null}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/i18n/useLocaleCookie.ts"],"sourcesContent":["import { useCookies } from 'react-cookie';\n\nimport { cookieName } from './config';\n\nexport function useLocaleCookie() {\n    const [cookies, setCookieOrigin] = useCookies<\n        'locale',\n        {\n            locale: string;\n        }\n    >([cookieName]);\n\n    function setCookie(\n        value: Parameters<typeof setCookieOrigin>[1],\n        options?: Parameters<typeof setCookieOrigin>[2]\n    ) {\n        return setCookieOrigin(cookieName, value, options);\n    }\n\n    return [cookies.locale, setCookie] as const;\n}\n"],"names":[],"mappings":";;;AAAA;AAEA;;;AAEO,SAAS;IACZ,MAAM,CAAC,SAAS,gBAAgB,GAAG,CAAA,GAAA,qRAAA,CAAA,aAAU,AAAD,EAK1C;QAAC,uIAAA,CAAA,aAAU;KAAC;IAEd,SAAS,UACL,KAA4C,EAC5C,OAA+C;QAE/C,OAAO,gBAAgB,uIAAA,CAAA,aAAU,EAAE,OAAO;IAC9C;IAEA,OAAO;QAAC,QAAQ,MAAM;QAAE;KAAU;AACtC","debugId":null}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/i18n/client.ts"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport {\n    type FallbackNs,\n    initReactI18next,\n    useTranslation as useTranslationOrg,\n    type UseTranslationOptions,\n    type UseTranslationResponse,\n} from 'react-i18next';\nimport i18next, { type FlatNamespace, type KeyPrefix } from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-chained-backend';\nimport { useParams } from 'next/navigation';\n\nimport { getI18nConfig, normalizedFallbackLng as fallbackLng } from './config';\nimport { useLocaleCookie } from './useLocaleCookie';\n\nconst runsOnServerSide = typeof window === 'undefined';\n\ni18next\n    .use(initReactI18next)\n    .use(LanguageDetector)\n    .use(Backend)\n    .init({\n        ...getI18nConfig(),\n        detection: {\n            order: ['path', 'navigator'],\n            lookupFromPathIndex: 0,\n            lookupFromSubdomainIndex: 0,\n        },\n        preload: [],\n    });\n\nexport function useTranslation<\n    Ns extends FlatNamespace,\n    KPrefix extends KeyPrefix<FallbackNs<Ns>> = undefined,\n>(\n    ns?: Ns | Ns[],\n    options?: UseTranslationOptions<KPrefix>\n): UseTranslationResponse<FallbackNs<Ns>, KPrefix> {\n    const params = useParams();\n    const locale = params?.locale || fallbackLng;\n\n    const newOptions = {\n        ...options,\n        lng: Array.isArray(locale) ? locale[0] : (locale as string),\n    };\n\n    const ret = useTranslationOrg(ns, newOptions);\n    const { i18n } = ret;\n\n    if (\n        runsOnServerSide &&\n        newOptions.lng &&\n        String(i18n.resolvedLanguage) !== String(newOptions.lng)\n    ) {\n        i18n.changeLanguage(newOptions.lng);\n    }\n\n    return ret;\n}\n\nconst useIntlParams = () => {\n    const params = useParams();\n    const locale = params?.locale || fallbackLng;\n    const [localeCookie, setLocaleCookie] = useLocaleCookie();\n\n    const [activeLng, setActiveLng] = useState(i18next.resolvedLanguage);\n\n    const lng = Array.isArray(locale) ? locale[0] : (locale as string);\n\n    useEffect(() => {\n        if (activeLng === i18next.resolvedLanguage) {\n            return;\n        }\n\n        setActiveLng(i18next.resolvedLanguage);\n    }, [activeLng, i18next.resolvedLanguage]);\n\n    useEffect(() => {\n        if (!lng || String(i18next.resolvedLanguage) === String(lng)) {\n            return;\n        }\n\n        i18next.changeLanguage(lng);\n    }, [lng]);\n\n    useEffect(() => {\n        if (localeCookie === locale) {\n            return;\n        }\n\n        setLocaleCookie(locale, { path: '/' });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [locale, localeCookie]);\n\n    return { activeLng, lng };\n};\n\nexport const I18nProvider = ({\n    children,\n}: {\n    children: React.ReactNode;\n}): React.ReactNode => {\n    useIntlParams();\n\n    return children;\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAEA;AACA;AAhBA;;;;;;;;;AAkBA,MAAM,mBAAmB,gBAAkB;AAE3C,gOAAA,CAAA,UAAO,CACF,GAAG,CAAC,wQAAA,CAAA,mBAAgB,EACpB,GAAG,CAAC,0RAAA,CAAA,UAAgB,EACpB,GAAG,CAAC,+PAAA,CAAA,UAAO,EACX,IAAI,CAAC;IACF,GAAG,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD,GAAG;IAClB,WAAW;QACP,OAAO;YAAC;YAAQ;SAAY;QAC5B,qBAAqB;QACrB,0BAA0B;IAC9B;IACA,SAAS,EAAE;AACf;AAEG,SAAS,eAIZ,EAAc,EACd,OAAwC;IAExC,MAAM,SAAS,CAAA,GAAA,iQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,QAAQ,UAAU,uIAAA,CAAA,wBAAW;IAE5C,MAAM,aAAa;QACf,GAAG,OAAO;QACV,KAAK,MAAM,OAAO,CAAC,UAAU,MAAM,CAAC,EAAE,GAAI;IAC9C;IAEA,MAAM,MAAM,CAAA,GAAA,sQAAA,CAAA,iBAAiB,AAAD,EAAE,IAAI;IAClC,MAAM,EAAE,IAAI,EAAE,GAAG;IAEjB,IACI,oBACA,WAAW,GAAG,IACd,OAAO,KAAK,gBAAgB,MAAM,OAAO,WAAW,GAAG,GACzD;QACE,KAAK,cAAc,CAAC,WAAW,GAAG;IACtC;IAEA,OAAO;AACX;AAEA,MAAM,gBAAgB;IAClB,MAAM,SAAS,CAAA,GAAA,iQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,QAAQ,UAAU,uIAAA,CAAA,wBAAW;IAC5C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,gJAAA,CAAA,kBAAe,AAAD;IAEtD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE,gOAAA,CAAA,UAAO,CAAC,gBAAgB;IAEnE,MAAM,MAAM,MAAM,OAAO,CAAC,UAAU,MAAM,CAAC,EAAE,GAAI;IAEjD,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,cAAc,gOAAA,CAAA,UAAO,CAAC,gBAAgB,EAAE;YACxC;QACJ;QAEA,aAAa,gOAAA,CAAA,UAAO,CAAC,gBAAgB;IACzC,GAAG;QAAC;QAAW,gOAAA,CAAA,UAAO,CAAC,gBAAgB;KAAC;IAExC,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,CAAC,OAAO,OAAO,gOAAA,CAAA,UAAO,CAAC,gBAAgB,MAAM,OAAO,MAAM;YAC1D;QACJ;QAEA,gOAAA,CAAA,UAAO,CAAC,cAAc,CAAC;IAC3B,GAAG;QAAC;KAAI;IAER,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,iBAAiB,QAAQ;YACzB;QACJ;QAEA,gBAAgB,QAAQ;YAAE,MAAM;QAAI;IACpC,uDAAuD;IAC3D,GAAG;QAAC;QAAQ;KAAa;IAEzB,OAAO;QAAE;QAAW;IAAI;AAC5B;AAEO,MAAM,eAAe,CAAC,EACzB,QAAQ,EAGX;IACG;IAEA,OAAO;AACX","debugId":null}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/features/LanguageSelector/hooks/useLanguageSelect.ts"],"sourcesContent":["import { useEffect, useMemo, useState, useTransition } from 'react';\nimport { useParams, usePathname, useRouter } from 'next/navigation';\n\nimport { useTranslation } from '@/core/shared/i18n/client';\nimport {\n    normalizedFallbackLng,\n    normalizedLanguages,\n} from '@/core/shared/i18n/config';\nimport { useLocaleCookie } from '@/core/shared/i18n/useLocaleCookie';\n\nexport type Language = {\n    title: string;\n    abbr: string;\n    code: string;\n};\n\nexport const useLanguageSelect = () => {\n    const router = useRouter();\n    const pathname = usePathname();\n    const params = useParams();\n    const [isPending, startTransition] = useTransition();\n\n    const [_, setLocaleCookie] = useLocaleCookie();\n    const { t, i18n } = useTranslation('lang');\n\n    const [isClient, setIsClient] = useState(false);\n\n    const currentLocale = params?.locale || normalizedFallbackLng;\n    const normalizedCurrentLocale = Array.isArray(currentLocale)\n        ? currentLocale[0]\n        : currentLocale;\n\n    useEffect(() => {\n        setIsClient(true);\n    }, []);\n\n    const changeLanguage = (locale: Language) => {\n        if (normalizedCurrentLocale === locale.code) {\n            return;\n        }\n\n        const newPath = pathname.replace(/^\\/([^/]+)/, `/${locale.code}`);\n        startTransition(() => {\n            setLocaleCookie(locale.code, { path: '/' });\n            i18n.changeLanguage(locale.code);\n            router.push(newPath);\n        });\n    };\n\n    const languageList: Language[] = useMemo(() => {\n        if (!isClient) {\n            return [];\n        }\n\n        return normalizedLanguages.map(language => ({\n            title: t(`lang:${language}`),\n            abbr: t(`lang:abbrs.${language}`),\n            code: language,\n        }));\n    }, [t, isClient]);\n\n    const currentLanguage: Language = useMemo(() => {\n        if (!isClient) {\n            return {\n                title: '',\n                abbr: '',\n                code: normalizedCurrentLocale,\n            };\n        }\n\n        return {\n            title: t(`lang:${normalizedCurrentLocale}`),\n            abbr: t(`lang:abbrs.${normalizedCurrentLocale}`),\n            code: normalizedCurrentLocale,\n        };\n    }, [normalizedCurrentLocale, t, isClient]);\n\n    return {\n        changeLanguage,\n        languageList,\n        currentLanguage,\n        isPending,\n        isClient,\n    };\n};\n"],"names":[],"mappings":";;;AAAA;AACA;AAEA;AACA;AAIA;;;;;;AAQO,MAAM,oBAAoB;IAC7B,MAAM,SAAS,CAAA,GAAA,iQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,iQAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,SAAS,CAAA,GAAA,iQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,gBAAa,AAAD;IAEjD,MAAM,CAAC,GAAG,gBAAgB,GAAG,CAAA,GAAA,gJAAA,CAAA,kBAAe,AAAD;IAC3C,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,iBAAc,AAAD,EAAE;IAEnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,MAAM,gBAAgB,QAAQ,UAAU,uIAAA,CAAA,wBAAqB;IAC7D,MAAM,0BAA0B,MAAM,OAAO,CAAC,iBACxC,aAAa,CAAC,EAAE,GAChB;IAEN,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACN,YAAY;IAChB,GAAG,EAAE;IAEL,MAAM,iBAAiB,CAAC;QACpB,IAAI,4BAA4B,OAAO,IAAI,EAAE;YACzC;QACJ;QAEA,MAAM,UAAU,SAAS,OAAO,CAAC,cAAc,CAAC,CAAC,EAAE,OAAO,IAAI,EAAE;QAChE,gBAAgB;YACZ,gBAAgB,OAAO,IAAI,EAAE;gBAAE,MAAM;YAAI;YACzC,KAAK,cAAc,CAAC,OAAO,IAAI;YAC/B,OAAO,IAAI,CAAC;QAChB;IACJ;IAEA,MAAM,eAA2B,CAAA,GAAA,oUAAA,CAAA,UAAO,AAAD,EAAE;QACrC,IAAI,CAAC,UAAU;YACX,OAAO,EAAE;QACb;QAEA,OAAO,uIAAA,CAAA,sBAAmB,CAAC,GAAG,CAAC,CAAA,WAAY,CAAC;gBACxC,OAAO,EAAE,CAAC,KAAK,EAAE,UAAU;gBAC3B,MAAM,EAAE,CAAC,WAAW,EAAE,UAAU;gBAChC,MAAM;YACV,CAAC;IACL,GAAG;QAAC;QAAG;KAAS;IAEhB,MAAM,kBAA4B,CAAA,GAAA,oUAAA,CAAA,UAAO,AAAD,EAAE;QACtC,IAAI,CAAC,UAAU;YACX,OAAO;gBACH,OAAO;gBACP,MAAM;gBACN,MAAM;YACV;QACJ;QAEA,OAAO;YACH,OAAO,EAAE,CAAC,KAAK,EAAE,yBAAyB;YAC1C,MAAM,EAAE,CAAC,WAAW,EAAE,yBAAyB;YAC/C,MAAM;QACV;IACJ,GAAG;QAAC;QAAyB;QAAG;KAAS;IAEzC,OAAO;QACH;QACA;QACA;QACA;QACA;IACJ;AACJ","debugId":null}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/features/LanguageSelector/ui/index.tsx"],"sourcesContent":["'use client';\n\nimport type { SingleValue } from 'react-select';\nimport Select from 'react-select';\n\nimport { useLanguageSelect } from '../hooks/useLanguageSelect';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-object-type\nexport interface LanguageSelectorProps {}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const LanguageSelector = (_props: LanguageSelectorProps) => {\n    const {\n        changeLanguage,\n        currentLanguage,\n        languageList,\n        isPending,\n        isClient,\n    } = useLanguageSelect();\n\n    if (!isClient) {\n        return null;\n    }\n\n    const handleChange = (newValue: SingleValue<typeof currentLanguage>) => {\n        if (newValue) {\n            changeLanguage(newValue);\n        }\n    };\n\n    return (\n        <Select\n            onChange={handleChange}\n            value={currentLanguage}\n            options={languageList}\n            isDisabled={isPending}\n            getOptionLabel={option => option.title}\n            getOptionValue={option => option.title}\n        />\n    );\n};\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAWO,MAAM,mBAAmB,CAAC;IAC7B,MAAM,EACF,cAAc,EACd,eAAe,EACf,YAAY,EACZ,SAAS,EACT,QAAQ,EACX,GAAG,CAAA,GAAA,yKAAA,CAAA,oBAAiB,AAAD;IAEpB,IAAI,CAAC,UAAU;QACX,OAAO;IACX;IAEA,MAAM,eAAe,CAAC;QAClB,IAAI,UAAU;YACV,eAAe;QACnB;IACJ;IAEA,qBACI,6WAAC,6RAAA,CAAA,UAAM;QACH,UAAU;QACV,OAAO;QACP,SAAS;QACT,YAAY;QACZ,gBAAgB,CAAA,SAAU,OAAO,KAAK;QACtC,gBAAgB,CAAA,SAAU,OAAO,KAAK;;;;;;AAGlD","debugId":null}}]
}