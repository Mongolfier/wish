{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/model/constants/flowSteps.ts"],"sourcesContent":["export enum AuthFlowStep {\r\n\tAuthType = 'authType',\r\n\tLogin = 'login',\r\n\tRegister = 'register',\r\n\tEnterEmail = 'enterEmail',\r\n\tEnterSignInPassword = 'enterSignInPassword',\r\n\tEnterSignUpPassword = 'enterSignUpPassword',\r\n\tHaveAccount = 'haveAccount',\r\n\tFinishSignUp = 'finishSignUp',\r\n}\r\n"],"names":[],"mappings":";;;AAAO,IAAA,AAAK,sCAAA;;;;;;;;;WAAA","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/router/routes/auth.ts"],"sourcesContent":["const rootPath = '/auth';\r\n\r\nexport const authRoutes = {\r\n    index: rootPath,\r\n} as const;\r\n"],"names":[],"mappings":";;;AAAA,MAAM,WAAW;AAEV,MAAM,aAAa;IACtB,OAAO;AACX","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/router/routes/index.ts"],"sourcesContent":["import { authRoutes } from './auth';\n\nexport const routes = {\n    index: '/',\n    auth: authRoutes,\n} as const;\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,SAAS;IAClB,OAAO;IACP,MAAM,iJAAA,CAAA,aAAU;AACpB","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/router/protected.ts"],"sourcesContent":["import { routes } from './routes';\n\nexport const unauthenticatedForbiddenRoutes: string[] = [];\nexport const authenticatedForbiddenRoutes: string[] = [routes.auth.index];\n\nexport const isForbiddenRoute = (isAuthUser: boolean, pathname: string) => {\n    if (isAuthUser) {\n        return authenticatedForbiddenRoutes.some(route =>\n            pathname.includes(route)\n        );\n    }\n\n    return unauthenticatedForbiddenRoutes.some(route =>\n        pathname.includes(route)\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;;AAEO,MAAM,iCAA2C,EAAE;AACnD,MAAM,+BAAyC;IAAC,kJAAA,CAAA,SAAM,CAAC,IAAI,CAAC,KAAK;CAAC;AAElE,MAAM,mBAAmB,CAAC,YAAqB;IAClD,IAAI,YAAY;QACZ,OAAO,6BAA6B,IAAI,CAAC,CAAA,QACrC,SAAS,QAAQ,CAAC;IAE1B;IAEA,OAAO,+BAA+B,IAAI,CAAC,CAAA,QACvC,SAAS,QAAQ,CAAC;AAE1B","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/router/index.ts"],"sourcesContent":["export {\n    authenticatedForbiddenRoutes,\n    isForbiddenRoute,\n    unauthenticatedForbiddenRoutes,\n} from './protected';\nexport { routes } from './routes';\n"],"names":[],"mappings":";AAAA;AAKA","debugId":null}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/model/constants/stepsResults.ts"],"sourcesContent":["\r\nexport enum AuthType {\r\n\tLogin = 'login',\r\n\tRegister = 'register',\r\n}\r\n\r\nexport enum StepEnterEmailResult {\r\n\tRegistration = 'registration',\r\n\tSignIn = 'sign-in',\r\n}\r\n\r\nexport enum StepEnterSignUpPasswordResultCode {\r\n\t// FIXME: add guard error code\r\n\tEmailCodeRequired = '',\r\n}\r\n\r\nexport enum StepFinishSignUpResult {\r\n\tSuccess = 'success',\r\n}"],"names":[],"mappings":";;;;;;AACO,IAAA,AAAK,kCAAA;;;WAAA;;AAKL,IAAA,AAAK,8CAAA;;;WAAA;;AAKL,IAAA,AAAK,2DAAA;IACX,8BAA8B;;WADnB;;AAKL,IAAA,AAAK,gDAAA;;WAAA","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/model/constants/withoutBackButtonSteps.ts"],"sourcesContent":["import { AuthFlowStep } from './flowSteps';\r\n\r\nexport const WITHOUT_BACK_BUTTON_STEPS = [\r\n\tAuthFlowStep.AuthType,\r\n\tAuthFlowStep.EnterEmail,\r\n];\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,4BAA4B;IACxC,qKAAA,CAAA,eAAY,CAAC,QAAQ;IACrB,qKAAA,CAAA,eAAY,CAAC,UAAU;CACvB","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/AuthFlow/useAuthFlow.ts"],"sourcesContent":["import { useCallback, useState } from \"react\";\r\nimport { AuthFlowStep } from \"../../model/constants/flowSteps\";\r\nimport {\r\n  AuthType,\r\n  StepEnterEmailResult,\r\n  StepFinishSignUpResult,\r\n} from \"../../model/constants/stepsResults\";\r\nimport { WITHOUT_BACK_BUTTON_STEPS } from \"../../model/constants/withoutBackButtonSteps\";\r\n\r\ninterface UseAuthFlowProps {\r\n  onSuccess: () => void;\r\n}\r\nexport const useAuthFlow = ({ onSuccess }: UseAuthFlowProps) => {\r\n  const [currentStep, setCurrentStep] = useState<AuthFlowStep>(\r\n    AuthFlowStep.AuthType\r\n  );\r\n\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [authType, setAuthType] = useState<AuthType | null>(null);\r\n\r\n  const handleResetToAuthTypeStep = useCallback(() => {\r\n    setCurrentStep(AuthFlowStep.AuthType);\r\n    setAuthType(null);\r\n  }, []);\r\n\r\n  const handleSetCurrentEmail = useCallback((email: string) => {\r\n    setEmail(email);\r\n  }, []);\r\n\r\n  const handleAuthTypeSelect = useCallback((type: AuthType) => {\r\n    setAuthType(type);\r\n    switch (type) {\r\n      case AuthType.Login:\r\n        setCurrentStep(AuthFlowStep.Login);\r\n        break;\r\n      case AuthType.Register:\r\n        setCurrentStep(AuthFlowStep.Register);\r\n        break;\r\n    }\r\n  }, []);\r\n\r\n  const handleStepEnterEmailComplete = useCallback(\r\n    (result: StepEnterEmailResult) => {\r\n      switch (result) {\r\n        case StepEnterEmailResult.Registration:\r\n          setCurrentStep(AuthFlowStep.EnterSignUpPassword);\r\n          break;\r\n        case StepEnterEmailResult.SignIn:\r\n          setCurrentStep(AuthFlowStep.EnterSignInPassword);\r\n          break;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const handleStepFinishSignUpComplete = useCallback(\r\n    async (result: { code: StepFinishSignUpResult }) => {\r\n      if (result.code === StepFinishSignUpResult.Success) {\r\n        onSuccess();\r\n      }\r\n    },\r\n    [onSuccess]\r\n  );\r\n\r\n  return {\r\n    currentStep,\r\n    email,\r\n    authType,\r\n    handleResetToAuthTypeStep,\r\n    handleSetCurrentEmail,\r\n    handleAuthTypeSelect,\r\n    handleStepEnterEmailComplete,\r\n    handleStepFinishSignUpComplete,\r\n    showBackButton: !WITHOUT_BACK_BUTTON_STEPS.includes(currentStep),\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AAKA;;;;;AAKO,MAAM,cAAc,CAAC,EAAE,SAAS,EAAoB;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAC3C,qKAAA,CAAA,eAAY,CAAC,QAAQ;IAGvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAU;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAmB;IAE1D,MAAM,4BAA4B,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAAE;QAC5C,eAAe,qKAAA,CAAA,eAAY,CAAC,QAAQ;QACpC,YAAY;IACd,GAAG,EAAE;IAEL,MAAM,wBAAwB,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACzC,SAAS;IACX,GAAG,EAAE;IAEL,MAAM,uBAAuB,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACxC,YAAY;QACZ,OAAQ;YACN,KAAK,wKAAA,CAAA,WAAQ,CAAC,KAAK;gBACjB,eAAe,qKAAA,CAAA,eAAY,CAAC,KAAK;gBACjC;YACF,KAAK,wKAAA,CAAA,WAAQ,CAAC,QAAQ;gBACpB,eAAe,qKAAA,CAAA,eAAY,CAAC,QAAQ;gBACpC;QACJ;IACF,GAAG,EAAE;IAEL,MAAM,+BAA+B,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAC7C,CAAC;QACC,OAAQ;YACN,KAAK,wKAAA,CAAA,uBAAoB,CAAC,YAAY;gBACpC,eAAe,qKAAA,CAAA,eAAY,CAAC,mBAAmB;gBAC/C;YACF,KAAK,wKAAA,CAAA,uBAAoB,CAAC,MAAM;gBAC9B,eAAe,qKAAA,CAAA,eAAY,CAAC,mBAAmB;gBAC/C;QACJ;IACF,GACA,EAAE;IAGJ,MAAM,iCAAiC,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAC/C,OAAO;QACL,IAAI,OAAO,IAAI,KAAK,wKAAA,CAAA,yBAAsB,CAAC,OAAO,EAAE;YAClD;QACF;IACF,GACA;QAAC;KAAU;IAGb,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gBAAgB,CAAC,kLAAA,CAAA,4BAAyB,CAAC,QAAQ,CAAC;IACtD;AACF","debugId":null}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/steps/StepAuthType/StepAuthType.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"auth-type-button\": \"StepAuthType-module__2dRFDW__auth-type-button\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/steps/StepAuthType/StepAuthType.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useTranslation } from \"@/core/shared/i18n/client\";\r\nimport css from \"./StepAuthType.module.css\";\r\n\r\nexport enum AuthType {\r\n  Login = \"login\",\r\n  Register = \"register\",\r\n}\r\n\r\nexport interface StepAuthTypeProps {\r\n  onAuthTypeSelect: (authType: AuthType) => void;\r\n}\r\n\r\nexport const StepAuthType = ({ onAuthTypeSelect }: StepAuthTypeProps) => {\r\n  const { t } = useTranslation([\"auth\"]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>{t(\"welcome\")}</h2>\r\n      <p>{t(\"chooseAuthType\")}</p>\r\n      \r\n      <div>\r\n        <button \r\n          type=\"button\" \r\n          onClick={() => onAuthTypeSelect(AuthType.Login)}\r\n          className={css[\"auth-type-button\"]}\r\n        >\r\n          {t(\"signIn\")}\r\n        </button>\r\n        \r\n        <button \r\n          type=\"button\" \r\n          onClick={() => onAuthTypeSelect(AuthType.Register)}\r\n          className={css[\"auth-type-button\"]}\r\n        >\r\n          {t(\"signUp\")}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,IAAA,AAAK,kCAAA;;;WAAA;;AASL,MAAM,eAAe,CAAC,EAAE,gBAAgB,EAAqB;IAClE,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;KAAO;IAErC,qBACE,6WAAC;;0BACC,6WAAC;0BAAI,EAAE;;;;;;0BACP,6WAAC;0BAAG,EAAE;;;;;;0BAEN,6WAAC;;kCACC,6WAAC;wBACC,MAAK;wBACL,SAAS,IAAM;wBACf,WAAW,6LAAA,CAAA,UAAG,CAAC,mBAAmB;kCAEjC,EAAE;;;;;;kCAGL,6WAAC;wBACC,MAAK;wBACL,SAAS,IAAM;wBACf,WAAW,6LAAA,CAAA,UAAG,CAAC,mBAAmB;kCAEjC,EAAE;;;;;;;;;;;;;;;;;;AAKb","debugId":null}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/shared/hooks/useEmailInput.ts"],"sourcesContent":["import { FormEvent, useCallback } from 'react';\r\n\r\n\r\ninterface UseEmailInputProps {\r\n\tonEmailChange: (value: string) => void;\r\n}\r\n\r\ninterface UseEmailInputReturn {\r\n\thandleInputChange: (e: FormEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nexport const useEmailInput = ({ onEmailChange }: UseEmailInputProps): UseEmailInputReturn => {\r\n\tconst handleInputChange = useCallback(\r\n\t\t(e: FormEvent<HTMLInputElement>) => {\r\n\t\t\tconst value = e.currentTarget.value;\r\n\t\t\tconst valueWithoutSpaces = value.replace(/\\s/g, '');\r\n\t\t\tonEmailChange(valueWithoutSpaces);\r\n\t\t},\r\n\t\t[onEmailChange],\r\n\t);\r\n\r\n\treturn {\r\n\t\thandleInputChange,\r\n\t};\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;AAWO,MAAM,gBAAgB,CAAC,EAAE,aAAa,EAAsB;IAClE,MAAM,oBAAoB,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EACnC,CAAC;QACA,MAAM,QAAQ,EAAE,aAAa,CAAC,KAAK;QACnC,MAAM,qBAAqB,MAAM,OAAO,CAAC,OAAO;QAChD,cAAc;IACf,GACA;QAAC;KAAc;IAGhB,OAAO;QACN;IACD;AACD","debugId":null}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/components/Support/Support.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n});\n"],"names":[],"mappings":"AAAA;AACA"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/components/Support/Support.tsx"],"sourcesContent":["import { useTranslation } from '@/core/shared/i18n/client';\r\n\r\nimport css from './Support.module.css';\r\n\r\nexport const Support = () => {\r\n\tconst { t } = useTranslation(['auth', 'common']);\r\n\r\n\treturn (\r\n\t\t<div className={css.support}>\r\n\t\t\t<p className={css.supportText}>{t('auth:needHelp')}</p>\r\n\r\n            {/* FIXME: get support email from .env or constant */}\r\n            <a href={`mailto:${t('common:links.supportEmail')}`} className={css.supportLink}>\r\n                {t('common:links.supportEmail')}\r\n            </a>\r\n\t\t</div>\r\n\t);\r\n};"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEO,MAAM,UAAU;IACtB,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;QAAQ;KAAS;IAE/C,qBACC,6WAAC;QAAI,WAAW,wLAAA,CAAA,UAAG,CAAC,OAAO;;0BAC1B,6WAAC;gBAAE,WAAW,wLAAA,CAAA,UAAG,CAAC,WAAW;0BAAG,EAAE;;;;;;0BAGzB,6WAAC;gBAAE,MAAM,CAAC,OAAO,EAAE,EAAE,8BAA8B;gBAAE,WAAW,wLAAA,CAAA,UAAG,CAAC,WAAW;0BAC1E,EAAE;;;;;;;;;;;;AAInB","debugId":null}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/steps/StepLogin/StepLogin.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"error\": \"StepLogin-module__2BQh0W__error\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/steps/StepLogin/StepLogin.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { useEmailInput } from \"@/core/shared/hooks/useEmailInput\";\r\nimport { useTranslation } from \"@/core/shared/i18n/client\";\r\nimport { Support } from \"../../components/Support/Support\";\r\nimport css from \"./StepLogin.module.css\";\r\n\r\nexport interface StepLoginProps {\r\n  onLogin: (email: string, password: string) => void;\r\n  onEmailChange: (email: string) => void;\r\n  email: string;\r\n  isLoading?: boolean;\r\n  errorMessage?: string;\r\n}\r\n\r\ninterface FormData {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst loginSchema = z.object({\r\n  email: z.string().email(\"Please enter a valid email address\"),\r\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n});\r\n\r\nexport const StepLogin = ({\r\n  onLogin,\r\n  onEmailChange,\r\n  email,\r\n  isLoading = false,\r\n  errorMessage,\r\n}: StepLoginProps) => {\r\n  const { t } = useTranslation([\"auth\"]);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(loginSchema),\r\n    defaultValues: { email, password: \"\" },\r\n  });\r\n\r\n  const { handleInputChange } = useEmailInput({\r\n    onEmailChange: (newEmail) => {\r\n      setValue(\"email\", newEmail);\r\n      onEmailChange(newEmail);\r\n    },\r\n  });\r\n\r\n  const onSubmit = (data: FormData) => {\r\n    if (isLoading) return;\r\n    onLogin(data.email, data.password);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>{t(\"signIn\")}</h2>\r\n      \r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div>\r\n          <label htmlFor=\"email\">{t(\"email\")}</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            {...register(\"email\")}\r\n            onChange={handleInputChange}\r\n            placeholder={t(\"enterEmail\")}\r\n          />\r\n          {errors.email && <span className={css.error}>{errors.email.message}</span>}\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"password\">{t(\"password\")}</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            {...register(\"password\")}\r\n            placeholder={t(\"enterPassword\")}\r\n          />\r\n          {errors.password && <span className={css.error}>{errors.password.message}</span>}\r\n        </div>\r\n\r\n        {errorMessage && (\r\n          <span className={css.error}>{errorMessage}</span>\r\n        )}\r\n\r\n        <button type=\"submit\" disabled={isLoading}>\r\n          {isLoading ? t(\"loading\") : t(\"signIn\")}\r\n        </button>\r\n\r\n        <Support />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AATA;;;;;;;;;AAwBA,MAAM,cAAc,oNAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC3B,OAAO,oNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,oNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAEO,MAAM,YAAY,CAAC,EACxB,OAAO,EACP,aAAa,EACb,KAAK,EACL,YAAY,KAAK,EACjB,YAAY,EACG;IACf,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;KAAO;IAErC,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,QAAQ,EACT,GAAG,CAAA,GAAA,uPAAA,CAAA,UAAO,AAAD,EAAY;QACpB,UAAU,CAAA,GAAA,qQAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YAAE;YAAO,UAAU;QAAG;IACvC;IAEA,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,gBAAa,AAAD,EAAE;QAC1C,eAAe,CAAC;YACd,SAAS,SAAS;YAClB,cAAc;QAChB;IACF;IAEA,MAAM,WAAW,CAAC;QAChB,IAAI,WAAW;QACf,QAAQ,KAAK,KAAK,EAAE,KAAK,QAAQ;IACnC;IAEA,qBACE,6WAAC;;0BACC,6WAAC;0BAAI,EAAE;;;;;;0BAEP,6WAAC;gBAAK,UAAU,aAAa;;kCAC3B,6WAAC;;0CACC,6WAAC;gCAAM,SAAQ;0CAAS,EAAE;;;;;;0CAC1B,6WAAC;gCACC,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,QAAQ;gCACrB,UAAU;gCACV,aAAa,EAAE;;;;;;4BAEhB,OAAO,KAAK,kBAAI,6WAAC;gCAAK,WAAW,uLAAA,CAAA,UAAG,CAAC,KAAK;0CAAG,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;kCAGpE,6WAAC;;0CACC,6WAAC;gCAAM,SAAQ;0CAAY,EAAE;;;;;;0CAC7B,6WAAC;gCACC,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,WAAW;gCACxB,aAAa,EAAE;;;;;;4BAEhB,OAAO,QAAQ,kBAAI,6WAAC;gCAAK,WAAW,uLAAA,CAAA,UAAG,CAAC,KAAK;0CAAG,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;oBAGzE,8BACC,6WAAC;wBAAK,WAAW,uLAAA,CAAA,UAAG,CAAC,KAAK;kCAAG;;;;;;kCAG/B,6WAAC;wBAAO,MAAK;wBAAS,UAAU;kCAC7B,YAAY,EAAE,aAAa,EAAE;;;;;;kCAGhC,6WAAC,6KAAA,CAAA,UAAO;;;;;;;;;;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 550, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/steps/StepRegister/StepRegister.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { useEmailInput } from \"@/core/shared/hooks/useEmailInput\";\r\nimport { useTranslation } from \"@/core/shared/i18n/client\";\r\nimport { Support } from \"../../components/Support/Support\";\r\nimport css from \"./StepRegister.module.css\";\r\n\r\nexport interface StepRegisterProps {\r\n  onRegister: (email: string, password: string) => void;\r\n  onEmailChange: (email: string) => void;\r\n  email: string;\r\n  isLoading?: boolean;\r\n  errorMessage?: string;\r\n}\r\n\r\ninterface FormData {\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n}\r\n\r\nconst registerSchema = z.object({\r\n  email: z.string().email(\"Please enter a valid email address\"),\r\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n  confirmPassword: z.string(),\r\n}).refine((data) => data.password === data.confirmPassword, {\r\n  message: \"Passwords don't match\",\r\n  path: [\"confirmPassword\"],\r\n});\r\n\r\nexport const StepRegister = ({\r\n  onRegister,\r\n  onEmailChange,\r\n  email,\r\n  isLoading = false,\r\n  errorMessage,\r\n}: StepRegisterProps) => {\r\n  const { t } = useTranslation([\"auth\"]);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(registerSchema),\r\n    defaultValues: { email, password: \"\", confirmPassword: \"\" },\r\n  });\r\n\r\n  const { handleInputChange } = useEmailInput({\r\n    onEmailChange: (newEmail) => {\r\n      setValue(\"email\", newEmail);\r\n      onEmailChange(newEmail);\r\n    },\r\n  });\r\n\r\n  const onSubmit = (data: FormData) => {\r\n    if (isLoading) return;\r\n    onRegister(data.email, data.password);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>{t(\"signUp\")}</h2>\r\n      \r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div>\r\n          <label htmlFor=\"email\">{t(\"email\")}</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            {...register(\"email\")}\r\n            onChange={handleInputChange}\r\n            placeholder={t(\"enterEmail\")}\r\n          />\r\n          {errors.email && <span className=\"error\">{errors.email.message}</span>}\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"password\">{t(\"password\")}</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            {...register(\"password\")}\r\n            placeholder={t(\"enterPassword\")}\r\n          />\r\n          {errors.password && <span className=\"error\">{errors.password.message}</span>}\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"confirmPassword\">{t(\"confirmPassword\")}</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"confirmPassword\"\r\n            {...register(\"confirmPassword\")}\r\n            placeholder={t(\"confirmPassword\")}\r\n          />\r\n          {errors.confirmPassword && <span className=\"error\">{errors.confirmPassword.message}</span>}\r\n        </div>\r\n\r\n        {errorMessage && (\r\n          <span className=\"error\">{errorMessage}</span>\r\n        )}\r\n\r\n        <button type=\"submit\" disabled={isLoading}>\r\n          {isLoading ? t(\"loading\") : t(\"signUp\")}\r\n        </button>\r\n\r\n        <Support />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AARA;;;;;;;;AAyBA,MAAM,iBAAiB,oNAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC9B,OAAO,oNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,oNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,iBAAiB,oNAAA,CAAA,IAAC,CAAC,MAAM;AAC3B,GAAG,MAAM,CAAC,CAAC,OAAS,KAAK,QAAQ,KAAK,KAAK,eAAe,EAAE;IAC1D,SAAS;IACT,MAAM;QAAC;KAAkB;AAC3B;AAEO,MAAM,eAAe,CAAC,EAC3B,UAAU,EACV,aAAa,EACb,KAAK,EACL,YAAY,KAAK,EACjB,YAAY,EACM;IAClB,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;KAAO;IAErC,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,QAAQ,EACT,GAAG,CAAA,GAAA,uPAAA,CAAA,UAAO,AAAD,EAAY;QACpB,UAAU,CAAA,GAAA,qQAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YAAE;YAAO,UAAU;YAAI,iBAAiB;QAAG;IAC5D;IAEA,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,gBAAa,AAAD,EAAE;QAC1C,eAAe,CAAC;YACd,SAAS,SAAS;YAClB,cAAc;QAChB;IACF;IAEA,MAAM,WAAW,CAAC;QAChB,IAAI,WAAW;QACf,WAAW,KAAK,KAAK,EAAE,KAAK,QAAQ;IACtC;IAEA,qBACE,6WAAC;;0BACC,6WAAC;0BAAI,EAAE;;;;;;0BAEP,6WAAC;gBAAK,UAAU,aAAa;;kCAC3B,6WAAC;;0CACC,6WAAC;gCAAM,SAAQ;0CAAS,EAAE;;;;;;0CAC1B,6WAAC;gCACC,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,QAAQ;gCACrB,UAAU;gCACV,aAAa,EAAE;;;;;;4BAEhB,OAAO,KAAK,kBAAI,6WAAC;gCAAK,WAAU;0CAAS,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;kCAGhE,6WAAC;;0CACC,6WAAC;gCAAM,SAAQ;0CAAY,EAAE;;;;;;0CAC7B,6WAAC;gCACC,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,WAAW;gCACxB,aAAa,EAAE;;;;;;4BAEhB,OAAO,QAAQ,kBAAI,6WAAC;gCAAK,WAAU;0CAAS,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;kCAGtE,6WAAC;;0CACC,6WAAC;gCAAM,SAAQ;0CAAmB,EAAE;;;;;;0CACpC,6WAAC;gCACC,MAAK;gCACL,IAAG;gCACF,GAAG,SAAS,kBAAkB;gCAC/B,aAAa,EAAE;;;;;;4BAEhB,OAAO,eAAe,kBAAI,6WAAC;gCAAK,WAAU;0CAAS,OAAO,eAAe,CAAC,OAAO;;;;;;;;;;;;oBAGnF,8BACC,6WAAC;wBAAK,WAAU;kCAAS;;;;;;kCAG3B,6WAAC;wBAAO,MAAK;wBAAS,UAAU;kCAC7B,YAAY,EAAE,aAAa,EAAE;;;;;;kCAGhC,6WAAC,6KAAA,CAAA,UAAO;;;;;;;;;;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 756, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/steps/StepEnterEmail/StepEnterEmail.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { useEmailInput } from \"@/core/shared/hooks/useEmailInput\";\r\nimport { useTranslation } from \"@/core/shared/i18n/client\";\r\nimport { StepEnterEmailResult } from \"../../../model/constants/stepsResults\";\r\nimport { Support } from \"../../components/Support/Support\";\r\n\r\nexport interface StepEnterEmailProps {\r\n  onComplete: (result: StepEnterEmailResult) => void;\r\n  onEmailChange: (email: string) => void;\r\n  email: string;\r\n}\r\n\r\ninterface FormData {\r\n  email: string;\r\n}\r\n\r\nconst emailSchema = z.object({\r\n  email: z.string().email(\"Please enter a valid email address\"),\r\n});\r\n\r\nexport const StepEnterEmail = ({\r\n  onComplete,\r\n  onEmailChange,\r\n  email,\r\n}: StepEnterEmailProps) => {\r\n  const { t } = useTranslation([\"auth\"]);\r\n\r\n  // Form setup\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n  } = useForm<FormData>({\r\n    resolver: zodResolver(emailSchema),\r\n    defaultValues: { email },\r\n  });\r\n\r\n  const { handleInputChange } = useEmailInput({\r\n    onEmailChange: (newEmail) => {\r\n      setValue(\"email\", newEmail);\r\n    },\r\n  });\r\n\r\n  const onSubmit = (data: FormData) => {\r\n    onEmailChange(data.email);\r\n    // For now, we'll assume it's a sign-in flow\r\n    // In the future, this could be replaced with actual API call\r\n    onComplete(StepEnterEmailResult.SignIn);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <label htmlFor=\"email\">{t(\"email\")}</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          {...register(\"email\")}\r\n          onChange={handleInputChange}\r\n          placeholder={t(\"enterEmail\")}\r\n        />\r\n\r\n        {errors.email && <span className=\"error\">{errors.email.message}</span>}\r\n\r\n        <button type=\"submit\">\r\n          {t(\"continue\")}\r\n        </button>\r\n\r\n        <Support />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AATA;;;;;;;;;AAqBA,MAAM,cAAc,oNAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC3B,OAAO,oNAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;AAC1B;AAEO,MAAM,iBAAiB,CAAC,EAC7B,UAAU,EACV,aAAa,EACb,KAAK,EACe;IACpB,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,iBAAc,AAAD,EAAE;QAAC;KAAO;IAErC,aAAa;IACb,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACrB,QAAQ,EACT,GAAG,CAAA,GAAA,uPAAA,CAAA,UAAO,AAAD,EAAY;QACpB,UAAU,CAAA,GAAA,qQAAA,CAAA,cAAW,AAAD,EAAE;QACtB,eAAe;YAAE;QAAM;IACzB;IAEA,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,gBAAa,AAAD,EAAE;QAC1C,eAAe,CAAC;YACd,SAAS,SAAS;QACpB;IACF;IAEA,MAAM,WAAW,CAAC;QAChB,cAAc,KAAK,KAAK;QACxB,4CAA4C;QAC5C,6DAA6D;QAC7D,WAAW,wKAAA,CAAA,uBAAoB,CAAC,MAAM;IACxC;IAEA,qBACE,6WAAC;kBACC,cAAA,6WAAC;YAAK,UAAU,aAAa;;8BAC3B,6WAAC;oBAAM,SAAQ;8BAAS,EAAE;;;;;;8BAC1B,6WAAC;oBACC,MAAK;oBACL,IAAG;oBACF,GAAG,SAAS,QAAQ;oBACrB,UAAU;oBACV,aAAa,EAAE;;;;;;gBAGhB,OAAO,KAAK,kBAAI,6WAAC;oBAAK,WAAU;8BAAS,OAAO,KAAK,CAAC,OAAO;;;;;;8BAE9D,6WAAC;oBAAO,MAAK;8BACV,EAAE;;;;;;8BAGL,6WAAC,6KAAA,CAAA,UAAO;;;;;;;;;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 863, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/hooks/useLogin.ts"],"sourcesContent":["import { useState } from 'react';\r\n\r\ninterface UseLoginReturn {\r\n\tisLoading: boolean;\r\n\tlogin: (email: string, password: string) => Promise<void>;\r\n\thasError: boolean;\r\n\terrorMessage: string;\r\n}\r\n\r\nexport const useLogin = (): UseLoginReturn => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [hasError, setHasError] = useState(false);\r\n\tconst [errorMessage, setErrorMessage] = useState('');\r\n\r\n\tconst handleError = (message: string = 'common:errors.serverNotAvailableTryAgainLater') => {\r\n\t\tsetHasError(true);\r\n\t\tsetErrorMessage(message);\r\n\t};\r\n\r\n\tconst login = async (email: string, password: string) => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetHasError(false);\r\n\t\tsetErrorMessage('');\r\n\r\n\t\ttry {\r\n\t\t\t// TODO: Replace with actual API call\r\n\t\t\tconst response = await fetch('/api/auth/login', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ email, password }),\r\n\t\t\t});\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tif (response.status === 401) {\r\n\t\t\t\t\thandleError('auth:errors.invalidCredentials');\r\n\t\t\t\t} else {\r\n\t\t\t\t\thandleError();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\t// Handle successful login\r\n\t\t\tconsole.log('Login successful:', data);\r\n\t\t} catch {\r\n\t\t\thandleError();\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\tisLoading,\r\n\t\tlogin,\r\n\t\thasError,\r\n\t\terrorMessage,\r\n\t};\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;AASO,MAAM,WAAW;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,cAAc,CAAC,UAAkB,+CAA+C;QACrF,YAAY;QACZ,gBAAgB;IACjB;IAEA,MAAM,QAAQ,OAAO,OAAe;QACnC,aAAa;QACb,YAAY;QACZ,gBAAgB;QAEhB,IAAI;YACH,qCAAqC;YACrC,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC/C,QAAQ;gBACR,SAAS;oBACR,gBAAgB;gBACjB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACxC;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACjB,IAAI,SAAS,MAAM,KAAK,KAAK;oBAC5B,YAAY;gBACb,OAAO;oBACN;gBACD;gBACA;YACD;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,0BAA0B;YAC1B,QAAQ,GAAG,CAAC,qBAAqB;QAClC,EAAE,OAAM;YACP;QACD,SAAU;YACT,aAAa;QACd;IACD;IAEA,OAAO;QACN;QACA;QACA;QACA;IACD;AACD","debugId":null}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/hooks/useRegister.ts"],"sourcesContent":["import { useState } from 'react';\r\n\r\ninterface UseRegisterReturn {\r\n\tisLoading: boolean;\r\n\tregister: (email: string, password: string) => Promise<void>;\r\n\thasError: boolean;\r\n\terrorMessage: string;\r\n}\r\n\r\nexport const useRegister = (): UseRegisterReturn => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [hasError, setHasError] = useState(false);\r\n\tconst [errorMessage, setErrorMessage] = useState('');\r\n\r\n\tconst handleError = (message: string = 'common:errors.serverNotAvailableTryAgainLater') => {\r\n\t\tsetHasError(true);\r\n\t\tsetErrorMessage(message);\r\n\t};\r\n\r\n\tconst register = async (email: string, password: string) => {\r\n\t\tsetIsLoading(true);\r\n\t\tsetHasError(false);\r\n\t\tsetErrorMessage('');\r\n\r\n\t\ttry {\r\n\t\t\t// TODO: Replace with actual API call\r\n\t\t\tconst response = await fetch('/api/auth/register', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ email, password }),\r\n\t\t\t});\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tif (response.status === 409) {\r\n\t\t\t\t\thandleError('auth:errors.emailAlreadyExists');\r\n\t\t\t\t} else {\r\n\t\t\t\t\thandleError();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\t// Handle successful registration\r\n\t\t\tconsole.log('Registration successful:', data);\r\n\t\t} catch {\r\n\t\t\thandleError();\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\tisLoading,\r\n\t\tregister,\r\n\t\thasError,\r\n\t\terrorMessage,\r\n\t};\r\n};\r\n"],"names":[],"mappings":";;;AAAA;;AASO,MAAM,cAAc;IAC1B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,cAAc,CAAC,UAAkB,+CAA+C;QACrF,YAAY;QACZ,gBAAgB;IACjB;IAEA,MAAM,WAAW,OAAO,OAAe;QACtC,aAAa;QACb,YAAY;QACZ,gBAAgB;QAEhB,IAAI;YACH,qCAAqC;YACrC,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBAClD,QAAQ;gBACR,SAAS;oBACR,gBAAgB;gBACjB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACxC;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACjB,IAAI,SAAS,MAAM,KAAK,KAAK;oBAC5B,YAAY;gBACb,OAAO;oBACN;gBACD;gBACA;YACD;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,iCAAiC;YACjC,QAAQ,GAAG,CAAC,4BAA4B;QACzC,EAAE,OAAM;YACP;QACD,SAAU;YACT,aAAa;QACd;IACD;IAEA,OAAO;QACN;QACA;QACA;QACA;IACD;AACD","debugId":null}},
    {"offset": {"line": 981, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/AuthFlow/AuthFlow.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { routes } from \"@/core/shared/router\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useCallback, useEffect, useMemo } from \"react\";\r\nimport { AuthFlowStep } from \"../../model/constants/flowSteps\";\r\nimport { useAuthFlow } from \"./useAuthFlow\";\r\nimport { StepAuthType } from \"../steps/StepAuthType/StepAuthType\";\r\nimport { StepLogin } from \"../steps/StepLogin/StepLogin\";\r\nimport { StepRegister } from \"../steps/StepRegister/StepRegister\";\r\nimport { StepEnterEmail } from \"../steps/StepEnterEmail/StepEnterEmail\";\r\nimport { useLogin } from \"../../hooks/useLogin\";\r\nimport { useRegister } from \"../../hooks/useRegister\";\r\n\r\n// import css from \"./AuthFlow.module.css\";\r\n\r\ninterface AuthFlowProps {\r\n  onStepChange?: (step: AuthFlowStep) => void;\r\n}\r\n\r\nexport const AuthFlow = ({ onStepChange }: AuthFlowProps) => {\r\n  const router = useRouter();\r\n\r\n  const onAuthSuccess = useCallback(() => {\r\n    router.push(routes.index);\r\n  }, [router]);\r\n\r\n  const {\r\n    currentStep,\r\n    email,\r\n    authType,\r\n    handleResetToAuthTypeStep,\r\n    handleSetCurrentEmail,\r\n    handleAuthTypeSelect,\r\n    handleStepEnterEmailComplete,\r\n    handleStepFinishSignUpComplete,\r\n  } = useAuthFlow({ onSuccess: onAuthSuccess });\r\n\r\n  const { login, isLoading: isLoginLoading, hasError: hasLoginError, errorMessage: loginErrorMessage } = useLogin();\r\n  const { register, isLoading: isRegisterLoading, hasError: hasRegisterError, errorMessage: registerErrorMessage } = useRegister();\r\n\r\n  useEffect(() => {\r\n    onStepChange?.(currentStep);\r\n  }, [currentStep, onStepChange]);\r\n\r\n  const handleLogin = useCallback(async (email: string, password: string) => {\r\n    await login(email, password);\r\n    // If login is successful, onAuthSuccess will be called\r\n  }, [login]);\r\n\r\n  const handleRegister = useCallback(async (email: string, password: string) => {\r\n    await register(email, password);\r\n    // If registration is successful, onAuthSuccess will be called\r\n  }, [register]);\r\n\r\n  const authStep = useMemo(() => {\r\n    switch (currentStep) {\r\n      case AuthFlowStep.AuthType:\r\n        return (\r\n          <StepAuthType\r\n            onAuthTypeSelect={handleAuthTypeSelect}\r\n          />\r\n        );\r\n      case AuthFlowStep.Login:\r\n        return (\r\n          <StepLogin\r\n            email={email}\r\n            onEmailChange={handleSetCurrentEmail}\r\n            onLogin={handleLogin}\r\n            isLoading={isLoginLoading}\r\n            errorMessage={hasLoginError ? loginErrorMessage : undefined}\r\n          />\r\n        );\r\n      case AuthFlowStep.Register:\r\n        return (\r\n          <StepRegister\r\n            email={email}\r\n            onEmailChange={handleSetCurrentEmail}\r\n            onRegister={handleRegister}\r\n            isLoading={isRegisterLoading}\r\n            errorMessage={hasRegisterError ? registerErrorMessage : undefined}\r\n          />\r\n        );\r\n      case AuthFlowStep.EnterEmail:\r\n        return (\r\n          <StepEnterEmail\r\n            email={email}\r\n            onEmailChange={handleSetCurrentEmail}\r\n            onComplete={handleStepEnterEmailComplete}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }, [currentStep, email, authType, handleAuthTypeSelect, handleSetCurrentEmail, handleLogin, handleRegister, handleStepEnterEmailComplete, isLoginLoading, isRegisterLoading, hasLoginError, hasRegisterError, loginErrorMessage, registerErrorMessage]);\r\n\r\n  return <div>{authStep}</div>;\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;;;AAoBO,MAAM,WAAW,CAAC,EAAE,YAAY,EAAiB;IACtD,MAAM,SAAS,CAAA,GAAA,iQAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,gBAAgB,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAAE;QAChC,OAAO,IAAI,CAAC,kJAAA,CAAA,SAAM,CAAC,KAAK;IAC1B,GAAG;QAAC;KAAO;IAEX,MAAM,EACJ,WAAW,EACX,KAAK,EACL,QAAQ,EACR,yBAAyB,EACzB,qBAAqB,EACrB,oBAAoB,EACpB,4BAA4B,EAC5B,8BAA8B,EAC/B,GAAG,CAAA,GAAA,mKAAA,CAAA,cAAW,AAAD,EAAE;QAAE,WAAW;IAAc;IAE3C,MAAM,EAAE,KAAK,EAAE,WAAW,cAAc,EAAE,UAAU,aAAa,EAAE,cAAc,iBAAiB,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,WAAQ,AAAD;IAC9G,MAAM,EAAE,QAAQ,EAAE,WAAW,iBAAiB,EAAE,UAAU,gBAAgB,EAAE,cAAc,oBAAoB,EAAE,GAAG,CAAA,GAAA,0JAAA,CAAA,cAAW,AAAD;IAE7H,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;IACjB,GAAG;QAAC;QAAa;KAAa;IAE9B,MAAM,cAAc,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAAE,OAAO,OAAe;QACpD,MAAM,MAAM,OAAO;IACnB,uDAAuD;IACzD,GAAG;QAAC;KAAM;IAEV,MAAM,iBAAiB,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAAE,OAAO,OAAe;QACvD,MAAM,SAAS,OAAO;IACtB,8DAA8D;IAChE,GAAG;QAAC;KAAS;IAEb,MAAM,WAAW,CAAA,GAAA,oUAAA,CAAA,UAAO,AAAD,EAAE;QACvB,OAAQ;YACN,KAAK,qKAAA,CAAA,eAAY,CAAC,QAAQ;gBACxB,qBACE,6WAAC,kLAAA,CAAA,eAAY;oBACX,kBAAkB;;;;;;YAGxB,KAAK,qKAAA,CAAA,eAAY,CAAC,KAAK;gBACrB,qBACE,6WAAC,4KAAA,CAAA,YAAS;oBACR,OAAO;oBACP,eAAe;oBACf,SAAS;oBACT,WAAW;oBACX,cAAc,gBAAgB,oBAAoB;;;;;;YAGxD,KAAK,qKAAA,CAAA,eAAY,CAAC,QAAQ;gBACxB,qBACE,6WAAC,kLAAA,CAAA,eAAY;oBACX,OAAO;oBACP,eAAe;oBACf,YAAY;oBACZ,WAAW;oBACX,cAAc,mBAAmB,uBAAuB;;;;;;YAG9D,KAAK,qKAAA,CAAA,eAAY,CAAC,UAAU;gBAC1B,qBACE,6WAAC,sLAAA,CAAA,iBAAc;oBACb,OAAO;oBACP,eAAe;oBACf,YAAY;;;;;;YAGlB;gBACE,OAAO;QACX;IACF,GAAG;QAAC;QAAa;QAAO;QAAU;QAAsB;QAAuB;QAAa;QAAgB;QAA8B;QAAgB;QAAmB;QAAe;QAAkB;QAAmB;KAAqB;IAEtP,qBAAO,6WAAC;kBAAK;;;;;;AACf","debugId":null}},
    {"offset": {"line": 1116, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/core/widgets/AuthFlow/ui/AuthFlowBlock/AuthFlowBlock.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n});\n"],"names":[],"mappings":"AAAA;AACA"}},
    {"offset": {"line": 1124, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/ui/AuthFlowBlock/AuthFlowBlock.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\nimport { LanguageSelector } from '@/core/features/LanguageSelector/ui';\r\n\r\nimport { AuthFlowStep } from '../../model/constants/flowSteps';\r\nimport { AuthFlow } from '../AuthFlow/AuthFlow';\r\n\r\nimport css from './AuthFlowBlock.module.css';\r\n\r\nexport const AuthFlowBlock = () => {\r\n\tconst [currentStep, setCurrentStep] = useState<AuthFlowStep | null>(null);\r\n\r\n\treturn (\r\n\t\t<div className={css.authFlowBlock}>\r\n\t\t\t<div className={css.formWrapper}>\r\n\t\t\t\t<AuthFlow onStepChange={setCurrentStep} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{currentStep === AuthFlowStep.EnterEmail && <LanguageSelector />}\r\n\t\t</div>\r\n\t);\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAEA;AACA;AAEA;AATA;;;;;;;AAWO,MAAM,gBAAgB;IAC5B,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAuB;IAEpE,qBACC,6WAAC;QAAI,WAAW,sLAAA,CAAA,UAAG,CAAC,aAAa;;0BAChC,6WAAC;gBAAI,WAAW,sLAAA,CAAA,UAAG,CAAC,WAAW;0BAC9B,cAAA,6WAAC,iKAAA,CAAA,WAAQ;oBAAC,cAAc;;;;;;;;;;;YAGxB,gBAAgB,qKAAA,CAAA,eAAY,CAAC,UAAU,kBAAI,6WAAC,2JAAA,CAAA,mBAAgB;;;;;;;;;;;AAGhE","debugId":null}},
    {"offset": {"line": 1177, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/widgets/AuthFlow/index.ts"],"sourcesContent":["export { AuthFlowBlock } from './ui/AuthFlowBlock/AuthFlowBlock';  "],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 1195, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/wish/src/core/pages/Auth/Auth.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { AuthFlowBlock } from '@/core/widgets/AuthFlow';\r\n\r\n// import css from './Auth.module.css';\r\n\r\nexport const Auth = () => {\r\n  return (\r\n    <main>\r\n      <AuthFlowBlock />\r\n    </main>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAFA;;;AAMO,MAAM,OAAO;IAClB,qBACE,6WAAC;kBACC,cAAA,6WAAC,2KAAA,CAAA,gBAAa;;;;;;;;;;AAGpB","debugId":null}}]
}